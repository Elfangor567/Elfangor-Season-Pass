add_namespace = SCA_denmark

#Rules of Neutrality Renewed
country_event = {
	id = SCA_denmark.1
	title = SCA_denmark.1.t
	desc = SCA_denmark.1.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = { #Agree
		name = SCA_denmark.1.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0.01
				AND ={
					OR = {
						has_government = fascism
						has_government = communism
					}
					is_historical_focus_on = no
				}
			}
		}
		add_named_threat = { threat = -0.5 name = DEN_drsrn_threat }
		if = {
			limit = { DEN = { has_country_flag = drsrn_renewed } }
			DEN = { country_event = {id = SCA_denmark.2 hours = 24} }
		}
		else_if = {
			limit = { ICE = { has_country_flag = drsrn_renewed } }
			ICE = { country_event = {id = SCA_denmark.2 hours = 24} }
		}
		else_if = {
			limit = { NOR = { has_country_flag = drsrn_renewed } }
			NOR = { country_event = {id = SCA_denmark.2 hours = 24} }
		}
		else_if = {
			limit = { SWE = { has_country_flag = drsrn_renewed } }
			SWE = { country_event = {id = SCA_denmark.2 hours = 24} }
		}
		else_if = {
			limit = { FIN = { has_country_flag = drsrn_renewed } }
			FIN = { country_event = {id = SCA_denmark.2 hours = 24} }
		}		
		add_ideas = drsrn_signatory
		hidden_effect = {
			set_country_flag = drsrn_renewed
		}
	}
	
	option = { #Disagree
		name = SCA_denmark.1.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		if = {
			limit = { DEN = { has_country_flag = drsrn_renewed } }
			DEN = { country_event = {id = SCA_denmark.3 hours = 24} }
		}
		else_if = {
			limit = { ICE = { has_country_flag = drsrn_renewed } }
			ICE = { country_event = {id = SCA_denmark.3 hours = 24} }
		}
		else_if = {
			limit = { NOR = { has_country_flag = drsrn_renewed } }
			NOR = { country_event = {id = SCA_denmark.3 hours = 24} }
		}
		else_if = {
			limit = { SWE = { has_country_flag = drsrn_renewed } }
			SWE = { country_event = {id = SCA_denmark.3 hours = 24} }
		}
		else_if = {
			limit = { FIN = { has_country_flag = drsrn_renewed } }
			FIN = { country_event = {id = SCA_denmark.3 hours = 24} }
		}
	}
}
	#Yes to DRSRN renewal
	country_event = {
		id = SCA_denmark.2
		title = SCA_denmark.2.t
		desc = SCA_denmark.2.desc
		picture = GFX_report_event_generic_read_write
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.2.a
			hidden_effect = {
				news_event = { hours = 24 id = SCA_denmark.41 }
			}
		}
		
	}

	#No to DRSRN renewal
	country_event = {
		id = SCA_denmark.3
		title = SCA_denmark.3.t
		desc = SCA_denmark.3.desc
		picture = GFX_report_event_generic_read_write
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.3.a
			hidden_effect = {
				news_event = { hours = 24 id = SCA_denmark.41 }
			}
		}
	}
	
	#News of the DRSRN
	news_event = {
		id = SCA_denmark.41 #HIDDEN TRIGGER
		hidden = yes
		
		is_triggered_only = yes
		fire_only_once = yes
		
		immediate = {
			news_event = { days = 7 id = SCA_denmark.4 }
		}
		
		option = {
			name = SCA_denmark.41.a
		}
	}	
	#news_event = { ## MOVED TO END DUE TO SCRIPTED LOCALISATION CHARACTER LIMIT
	#	id = SCA_denmark.4
	#	title = SCA_denmark.4.t
	#	desc = SCA_denmark.4.desc
	#	picture = GFX_news_event_generic_sign_treaty1
	#	
	#	major = yes
	#	is_triggered_only = yes
	#	
	#	option = { #Non-Signatories, Fascist
	#		name = SCA_denmark.4.a
	#		trigger = {
	#			AND = {
	#				has_government = fascism
	#				NOT = {
	#					has_country_flag = drsrn_renewed
	#				}
	#			}
	#		}
	#	}
	#	option = { #Non-Signatories, Communist
	#		name = SCA_denmark.4.b
	#		trigger = {
	#			AND = {
	#				has_government = communism
	#				NOT = {
	#					has_country_flag = drsrn_renewed
	#				}
	#			}
	#		}
	#	}
	#	option = { #Non-Signatories, other
	#		name = SCA_denmark.4.c
	#		trigger = {
	#			NOT = {
	#				has_country_flag = drsrn_renewed
	#				has_government = fascism
	#				has_government = communism
	#			}
	#		}
	#	}
	#	
	#	option = { #Signatories
	#		name = SCA_denmark.4.d
	#		trigger = {
	#			has_country_flag = drsrn_renewed
	#		}
	#		add_ideas = drsrn_signatory
	#	}
	#}
	


# DENMARK UNITES THE WORKERS
news_event = {
	id = SCA_denmark.5
	title = SCA_denmark.5
	desc = SCA_denmark.5.desc
	picture = GFX_news_event_generic_rally2
	
	major = yes
	is_triggered_only = yes
	
	option = { # Communist
		name = SCA_denmark.5.a
		trigger = {
			has_government = communism
		}
	}
	
	option = { # Non-Communist
		name = SCA_denmark.5.b
		trigger = {
			NOT = { has_government = communism }
		}
	}
}

#MONARCHY ENDS IN DENMARK
news_event = {
	id = SCA_denmark.6 # (HIDDEN)
	hidden = yes
	
	major = no
	
	trigger = {
		has_completed_focus = DEN_end_mon
	}
	
	mean_time_to_happen = {
		days = 3
	}
	
	fire_only_once = yes
	
	immediate = {
		random_list = {
			34 = { 
				news_event = SCA_denmark.666
				set_country_flag = dead_king
			}
			66 = { news_event = SCA_denmark.777 }
		}
	}
	
	option = {
		name = SCA_denmark.6.a
	}
}
	news_event = { # Dead King
		id = SCA_denmark.666
		title = SCA_denmark.666.t
		desc = SCA_denmark.666.desc
		
		picture = GFX_news_event_generic_riot
		
		major = yes
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.666.a
			trigger = {
				OR = {
					has_government = communism
					AND = {
						tag = SPC
						has_government = neutrality
					}
				}				
			}
		}
		option = {			
			name = SCA_denmark.666.b
			trigger = {
				OR = {
					NOT = { has_government = communism }
					AND = {
						tag = SPC
						NOT = { has_government = neutrality }
					}
				}
			}
		}
	}
	news_event = { #Live King
		id = SCA_denmark.777
		title = SCA_denmark.777.t
		desc = SCA_denmark.777.desc
		
		picture = GFX_news_event_generic_riot
		
		major = yes
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.777.a
			trigger = {
				has_government = communism
			}
		}
		option = {
			name = SCA_denmark.777.b
			trigger = {
				NOT = { has_government = communism }
			}
		}
	}

#DENMARK DEMANDS SCHELZWIG-HOLSTEIN
country_event = {
	id = SCA_denmark.7
	title = SCA_denmark.7.t
	desc = SCA_denmark.7.desc
	picture = GFX_report_event_soldiers_marching
	
	is_triggered_only = yes
	
	option = { #Yes
		name = SCA_denmark.7.a
		ai_chance = {
			factor = 30
			modifier = {
				factor = 2
				has_war = yes #allies are good
			}
			modifier = {
				factor = 3
				GER = { has_completed_focus = GER_denmark_friend } #Yay for Denmark
			}
		}
		DEN = { country_event = { id = SCA_denmark.8 hours = 24 }}
	}
	option = { #No 
		name = SCA_denmark.7.b
		ai_chance = {
			factor = 70
			modifier = {
				factor = 0.75
				has_war = yes #we cannot afford more enemies
			}
		}
		DEN = { country_event = { id = SCA_denmark.9 hours = 24 }}
	}
}	
	country_event = {
		id = SCA_denmark.8
		title = SCA_denmark.8.t
		desc = SCA_denmark.8.desc
		picture = GFX_report_event_generic_peaceful_annexation
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.8.a
			
			GER = {
				add_to_faction = DEN
			}
			DEN = {
				add_state_core = 58
				transfer_state = 58
			}
		}
	}
	country_event = {
		id = SCA_denmark.9
		title = SCA_denmark.9.t
		desc = SCA_denmark.9.desc
		picture = GFX_report_event_soldiers_marching
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.9.a
			
			DEN = {	
				add_state_core = 58	
				create_wargoal = {
					type = take_state_focus
					target = GER
					generator = { 58 }
				}
			}
		}
	}
	
country_event = {
	id = SCA_denmark.10
	title = SCA_denmark.10.t
	desc = SCA_denmark.10.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = { #Yes
		name = SCA_denmark.10.a
		ai_chance = {
			factor = 30
			modifier = {
				factor = 2
				has_war = yes #allies are good
			}
			modifier = {
				factor = 3
				GER = { has_completed_focus = GER_denmark_friend } #Yay for Denmark
			}
			modifier = {
				factor = 100 
				GER = { surrender_progress > 0.1 } # HELP HELP HELP
			}				
		}
		DEN = { country_event = { id = SCA_denmark.11 hours = 24 }}
	}
	option = { #No 
		name = SCA_denmark.10.b
		ai_chance = {
			factor = 70
			modifier = {
				factor = 0.5
				has_war = yes #we cannot afford more enemies
			}
		}
		DEN = { country_event = { id = SCA_denmark.12 hours = 24 }}
	}
}
	#country_event = { # SCRAPPED FOR NOW
	#	id = SCA_denmark.11
	#	title = SCA_denmark.11.t
	#	desc = SCA_denmark.11.desc
	#	picture = GFX_report_event_generic_sign_treaty1
	#	
	#	is_triggered_only = yes
	#	
	#	option = {
	#		name = SCA_denmark.11.a
	#		custom_effect_tooltip = "NOTHING YET"		
	#	}
	#}
	country_event = {
		id = SCA_denmark.12
		title = SCA_denmark.12.t
		desc = SCA_denmark.12.desc
		picture = GFX_report_event_soldiers_marching
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.12.a
			
			DEN = {	
				add_state_core = 58	
				create_wargoal = {
					type = take_state_focus
					target = GER
					generator = { 58 }
				}
			}
		}
	}
	

# DANISH TANK COMPETITION
country_event = {
	id = SCA_denmark.13
	title = SCA_denmark.13.t
	desc = SCA_denmark.13.desc
	picture = GFX_report_event_tank_factory
	
	is_triggered_only = yes
	
	option = { #light tanks
		name = SCA_denmark.13.a
		trigger = {
			OR = {
				GER = {
					has_tech = improved_light_tank
				}
				FRA = {
					has_tech = improved_light_tank
				}
				ENG = {
					has_tech = improved_light_tank
				}
				USA = {
					has_tech = improved_light_tank
				}
				ITA = {
					has_tech = improved_light_tank
				}
			}
		}
		ai_chance = {
			factor = 33
			modifier = {
				has_tech = improved_light_tank
				add = 10
			}
			modifier = {
				has_tech = advanced_light_tank
				add = 10
			}
			modifier = {
				has_tech = improved_medium_tank #Medium is better
				add = -30
			}
			modifier = {
				has_tech = advanced_medium_tank #Medium is better
				add = -13
			}
			
		}
		country_event = SCA_denmark.14
		hidden_effect = {
			DEN = { set_country_flag = DEN_light_tanks }
		}
	}
	
	option = { #medium tanks
		name = SCA_denmark.13.b
		trigger = {
			OR = {
				GER = {
					has_tech = improved_medium_tank
				}
				FRA = {
					has_tech = improved_medium_tank
				}
				ENG = {
					has_tech = improved_medium_tank
				}
				USA = {
					has_tech = improved_medium_tank
				}
				ITA = {
					has_tech = improved_medium_tank
				}
			}
		}
		ai_chance = {
			factor = 33
			modifier = {
				has_tech = improved_medium_tank
				add = 10
			}
			modifier = {
				has_tech = advanced_medium_tank
				add = 10
			}
			
		}
		country_event = SCA_denmark.15
		hidden_effect = {
			DEN = { set_country_flag = DEN_medium_tanks }
		}
	}
	
	option = { #Heavy tanks
		name = SCA_denmark.13.c
		trigger = {
			OR = {
				GER = {
					has_tech = improved_heavy_tank
				}
				FRA = {
					has_tech = improved_heavy_tank
				}
				ENG = {
					has_tech = improved_heavy_tank
				}
				USA = {
					has_tech = improved_heavy_tank
				}
				ITA = {
					has_tech = improved_heavy_tank
				}
			}
		}
		ai_chance = {
			factor = 33
			modifier = {
				has_tech = improved_heavy_tank
				add = 10
			}
			modifier = {
				has_tech = advanced_heavy_tank
				add = 10
			}
			modifier = {
				has_tech = super_heavy_tank #Investment
				add = 66 
			}
		}
		country_event = SCA_denmark.16
		hidden_effect = {
			DEN = { set_country_flag = DEN_heavy_tanks }
		}
	}
	
	option = { #failsafe
		name = SCA_denmark.13.d
		
		army_experience = 50
	}
				
}

	country_event = { #Light Tanks
		id = SCA_denmark.14
		title = SCA_denmark.14.t
		desc = SCA_denmark.14.desc
		
		picture = GFX_report_event_tank_factory
		
		is_triggered_only = yes
		
		option = { #Select German Tank
			name = "[DEN_german_tank]"
			trigger = {
				GER = { has_tech = basic_light_tank }
				NOT = { has_war_with = GER }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = GER
				}
				modifier = {
					factor = 2
					GER = { has_government = ROOT }
				}
				modifier = {
					GER = {
						has_tech = improved_light_tank
					}
					add = 10
				}
				modifier = {
					GER = {
						has_tech = advanced_light_tank
					}
					add = 10
				}
			}
			GER = { 
				country_event = SCA_denmark.17
			}
		}
		
		option = { #Select French Tank
			name = "[DEN_french_tank]"
			trigger = {
				FRA = { has_tech = basic_light_tank }
				NOT = { has_war_with = FRA }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = FRA
				}
				modifier = {
					factor = 2
					FRA = { has_government = ROOT }
				}
				modifier = {
					FRA = {
						has_tech = improved_light_tank
					}
					add = 10
				}
				modifier = {
					FRA = {
						has_tech = advanced_light_tank
					}
					add = 10
				}
			}
			FRA = { 
				country_event = SCA_denmark.17
			}
		}
		
		option = { #Select English Tank
			name = "[DEN_english_tank]"
			trigger = {
				ENG = { has_tech = basic_light_tank }
				NOT = { has_war_with = ENG }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = ENG
				}
				modifier = {
					factor = 2
					ENG = { has_government = ROOT }
				}
				modifier = {
					ENG = {
						has_tech = improved_light_tank
					}
					add = 10
				}
				modifier = {
					ENG = {
						has_tech = advanced_light_tank
					}
					add = 10
				}
			}
			ENG = { 
				country_event = SCA_denmark.17
			}
		}
		
		option = { #Select American Tank
			name = "[DEN_american_tank]"
			trigger = {
				USA = { has_tech = basic_light_tank }
				NOT = { has_war_with = USA }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = USA
				}
				modifier = {
					factor = 2
					USA = { has_government = ROOT }
				}
				modifier = {
					USA = {
						has_tech = improved_light_tank
					}
					add = 10
				}
				modifier = {
					USA = {
						has_tech = advanced_light_tank
					}
					add = 10
				}
			}
			USA = { 
				country_event = SCA_denmark.17
			}
		}
		
		option = { #Select Italian Tank
			name = "[DEN_italian_tank]"
			trigger = {
				ITA = { has_tech = basic_light_tank }
				NOT = { has_war_with = ITA }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = ITA
				}
				modifier = {
					factor = 2
					ITA = { has_government = ROOT }
				}
				modifier = {
					ITA = {
						has_tech = improved_light_tank
					}
					add = 10
				}
				modifier = {
					ITA = {
						has_tech = advanced_light_tank
					}
					add = 10
				}
			}
			ITA = { 
				country_event = SCA_denmark.17
			}
		}
	}
	country_event = { #Medium Tanks
		id = SCA_denmark.15
		title = SCA_denmark.15.t
		desc = SCA_denmark.desc
		
		picture = GFX_report_event_tank_factory
		
		is_triggered_only = yes
		
		option = { #Select German Tank
			name = "[DEN_german_tank]"
			trigger = {
				GER = { has_tech = basic_medium_tank }
				NOT = { has_war_with = GER }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = GER
				}
				modifier = {
					factor = 2
					GER = { has_government = ROOT }
				}
				modifier = {
					GER = {
						has_tech = improved_medium_tank
					}
					add = 10
				}
				modifier = {
					GER = {
						has_tech = advanced_medium_tank
					}
					add = 10
				}
			}
			GER = { 
				country_event = SCA_denmark.17
			}
		}
		
		option = { #Select French Tank
			name = "[DEN_french_tank]"
			trigger = {
				FRA = { has_tech = basic_medium_tank }
				NOT = { has_war_with = FRA }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = FRA
				}
				modifier = {
					factor = 2
					FRA = { has_government = ROOT }
				}
				modifier = {
					FRA = {
						has_tech = improved_medium_tank
					}
					add = 10
				}
				modifier = {
					FRA = {
						has_tech = advanced_medium_tank
					}
					add = 10
				}
			}
			FRA = { 
				country_event = SCA_denmark.17
			}
		}
		
		option = { #Select English Tank
			name = "[DEN_english_tank]"
			trigger = {
				ENG = { has_tech = basic_medium_tank }
				NOT = { has_war_with = ENG }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = ENG
				}
				modifier = {
					factor = 2
					OR = {
						ENG = { has_government = ROOT }
					}
				}
				modifier = {
					ENG = {
						has_tech = improved_medium_tank
					}
					add = 10
				}
				modifier = {
					ENG = {
						has_tech = advanced_medium_tank
					}
					add = 10
				}
			}
			ENG = { 
				country_event = SCA_denmark.17
			}
		}
		
		option = { #Select American Tank
			name = "[DEN_american_tank]"
			trigger = {
				USA = { has_tech = basic_medium_tank }
				NOT = { has_war_with = USA }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = USA
				}
				modifier = {
					factor = 2
					USA = { has_government = ROOT }
				}
				modifier = {
					USA = {
						has_tech = improved_medium_tank
					}
					add = 10
				}
				modifier = {
					USA = {
						has_tech = advanced_medium_tank
					}
					add = 10
				}
			}
			USA = { 
				country_event = SCA_denmark.17
			}
		}
		
		option = { #Select Italian Tank
			name = "[DEN_italian_tank]"
			trigger = {
				ITA = { has_tech = basic_medium_tank }
				NOT = { has_war_with = ITA }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = ITA
				}
				modifier = {
					factor = 2
					ITA = { has_government = ROOT }
				}
				modifier = {
					ITA = {
						has_tech = improved_medium_tank
					}
					add = 10
				}
				modifier = {
					ITA = {
						has_tech = advanced_medium_tank
					}
					add = 10
				}
			}
			ITA = { 
				country_event = SCA_denmark.17
			}
		}
	}
	
	country_event = { #Heavy Tanks
		id = SCA_denmark.16
		title = SCA_denmark.16.t
		desc = SCA_denmark.desc
		
		picture = GFX_report_event_tank_factory
		
		is_triggered_only = yes
		
		option = { #Select German Tank
			name = "[DEN_german_tank]"
			trigger = {
				GER = { has_tech = basic_heavy_tank }
				NOT = { has_war_with = GER }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = GER
				}
				modifier = {
					factor = 2
					GER = { has_government = ROOT }
				}
				modifier = {
					GER = {
						has_tech = super_heavy_tank
					}
					add = 10
				}
				modifier = {
					GER = {
						has_tech = improved_heavy_tank
					}
					add = 10
				}
				modifier = {
					GER = {
						has_tech = advanced_heavy_tank
					}
					add = 10
				}
			}
			GER = { 
				country_event = SCA_denmark.17
			}
		}
		
		option = { #Select French Tank
			name = "[DEN_french_tank]"
			trigger = {
				FRA = { has_tech = basic_heavy_tank }
				NOT = { has_war_with = FRA }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = FRA
				}
				modifier = {
					factor = 2
					FRA = { has_government = ROOT }
				}
				modifier = {
					FRA = {
						has_tech = super_heavy_tank
					}
					add = 10
				}
				modifier = {
					FRA = {
						has_tech = improved_heavy_tank
					}
					add = 10
				}
				modifier = {
					FRA = {
						has_tech = advanced_heavy_tank
					}
					add = 10
				}
			}
			FRA = { 
				country_event = SCA_denmark.17
			}
		}
		
		option = { #Select English Tank
			name = "[DEN_english_tank]"
			trigger = {
				ENG = { has_tech = basic_heavy_tank }
				NOT = { has_war_with = ENG }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = ENG
				}
				modifier = {
					factor = 2
					ENG = { has_government = ROOT }
				}
				modifier = {
					ENG = {
						has_tech = super_heavy_tank
					}
					add = 10
				}
				modifier = {
					ENG = {
						has_tech = improved_heavy_tank
					}
					add = 10
				}
				modifier = {
					ENG = {
						has_tech = advanced_heavy_tank
					}
					add = 10
				}
			}
			ENG = { 
				country_event = SCA_denmark.17
			}
		}
		
		option = { #Select American Tank
			name = "[DEN_american_tank]"
			trigger = {
				USA = { has_tech = basic_heavy_tank }
				NOT = { has_war_with = USA }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = USA
				}
				modifier = {
					factor = 2
					USA = { has_government = ROOT }
				}
				modifier = {
					USA = {
						has_tech = super_heavy_tank
					}
					add = 10
				}
				modifier = {
					USA = {
						has_tech = improved_heavy_tank
					}
					add = 10
				}
				modifier = {
					USA = {
						has_tech = advanced_heavy_tank
					}
					add = 10
				}
			}
			USA = { 
				country_event = SCA_denmark.17
			}
		}
		
		option = { #Select Italian Tank
			name = "[DEN_italian_tank]"
			trigger = {
				ITA = { has_tech = basic_heavy_tank }
				NOT = { has_war_with = ITA }
			}
			ai_chance = {
				factor = 20
				modifier = {
					factor = 10
					is_in_faction_with = ITA
				}
				modifier = {
					factor = 2
					ITA = { has_government = ROOT }				
				}
				modifier = {
					ITA = {
						has_tech = super_heavy_tank
					}
					add = 10
				}
				modifier = {
					ITA = {
						has_tech = improved_heavy_tank
					}
					add = 10
				}
				modifier = {
					ITA = {
						has_tech = advanced_heavy_tank
					}
					add = 10
				}
			}
			ITA = { 
				country_event = SCA_denmark.17
			}
		}
	}	
	country_event = { # Notified of selection
		id = SCA_denmark.17
		title = SCA_denmark.17.t
		desc = SCA_denmark.17.desc
		picture = GFX_report_event_tank_factory
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.17.a
			ai_chance = {
				factor = 90
				modifier = {
					factor = 0.5
					has_war = yes
				}
				modifier = {
					factor = 0
					has_war_with = DEN
				}
			}
			DEN = { 
				country_event = SCA_denmark.18
				add_opinion_modifier = { target = ROOT modifier = DEN_tank_won }
			}
			hidden_effect = {
				set_country_flag = DEN_tank_won_flag 
			}
			add_opinion_modifier = { target = DEN modifier = DEN_tank_won }
			if = {
				limit = { DEN = { has_country_flag = DEN_light_tanks } }
				if = {
					limit = {
						has_tech = basic_light_tank
						NOT = { has_tech = improved_light_tank }
					}
					create_production_license = {
						target = DEN
						equipment = {
							type = light_tank_equipment_1
							
						}
						cost_factor = 0
					}
				}
				if = {
					limit = {
						has_tech = improved_light_tank
						NOT = { has_tech = advanced_light_tank }
					}
					create_production_license = {
						target = DEN
						equipment = {
							type = light_tank_equipment_2
						}
						cost_factor = 0
					}
				}
				if = {
					limit = {
						has_tech = advanced_light_tank
					}
					create_production_license = {
						target = DEN
						equipment = {
							type = light_tank_equipment_3
						}
						cost_factor = 0
					}
				}
			}
			if = {
				limit = { DEN = { has_country_flag = DEN_medium_tanks } }
				if = {
					limit = {
						has_tech = basic_medium_tank
						NOT = { has_tech = improved_medium_tank }
					}
					create_production_license = {
						target = DEN
						equipment = {
							type = medium_tank_equipment_1
							
						}
						cost_factor = 0
					}
				}
				if = {
					limit = {
						has_tech = improved_medium_tank
						NOT = { has_tech = advanced_medium_tank }
					}
					create_production_license = {
						target = DEN
						equipment = {
							type = medium_tank_equipment_2
						}
						cost_factor = 0
					}
				}
				if = {
					limit = {
						has_tech = advanced_medium_tank
					}
					create_production_license = {
						target = DEN
						equipment = {
							type = medium_tank_equipment_3
						}
						cost_factor = 0
					}
				}
			}
			if = {
				limit = { DEN = { has_country_flag = DEN_heavy_tanks } }
				if = {
					limit = {
						has_tech = basic_heavy_tank
						NOT = { has_tech = improved_heavy_tank }
					}
					create_production_license = {
						target = DEN
						equipment = {
							type = heavy_tank_equipment_1
							
						}
						cost_factor = 0
					}
				}
				if = {
					limit = {
						has_tech = improved_heavy_tank
						NOT = {
							OR = {
								has_tech = advanced_heavy_tank
								has_tech = super_heavy_tank
							}
						}
					}
					create_production_license = {
						target = DEN
						equipment = {
							type = heavy_tank_equipment_2
						}
						cost_factor = 0
					}
				}
				if = {
					limit = {
						has_tech = advanced_heavy_tank
						NOT = { has_tech = super_heavy_tank }
					}
					create_production_license = {
						target = DEN
						equipment = {
							type = heavy_tank_equipment_3
						}
						cost_factor = 0
					}
				}
				if = {
					limit = {
						NOT = { has_tech = advanced_heavy_tank }
						has_tech = super_heavy_tank
					}
					create_production_license = {
						target = DEN
						equipment = {
							type = super_heavy_tank_equipment_1
						}
						cost_factor = 0
					}
				}
				if = {
					limit = {
						has_tech = advanced_heavy_tank
						has_tech = super_heavy_tank
					}
					create_production_license = {
						target = DEN
						equipment = {
							type = super_heavy_tank_equipment_1
						}
						cost_factor = 0
					}
					create_production_license = {
						target = DEN
						equipment = {
							type = heavy_tank_equipment_3
						}
						cost_factor = 0
					}
				}
			}			
		}
		option = {
			name = SCA_denmark.17.b
			ai_chance = {
				factor = 10
				modifier = {
					factor = 0
					is_in_faction_with = DEN
				}
			}
			
			DEN = { country_event = SCA_denmark.19 }
		}
	}	
	country_event = {
		id = SCA_denmark.18
		title = SCA_denmark.18.t
		desc = SCA_denmark.18.desc
		picture = GFX_report_event_tank_factory
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.18.a
		}
	}	
	
	country_event = {
		id = SCA_denmark.19
		title = SCA_denmark.19.t
		desc = SCA_denmark.19.desc
		picture = GFX_report_event_tank_factory
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.19.a
			army_experience = 10
		}
	}

# Denmark Forms Nordic Pact

country_event = {
	id = SCA_denmark.20
	title = SCA_denmark.20.t
	desc = { #Both Democratic or Neutral
		text = SCA_denmark.20.desc
		trigger = {
			OR = {
				has_government = neutrality
				has_government = democratic
			}
		}
	}
	desc = { #Norway is fascist/communist
		text = SCA_denmark.20.desc2
		trigger = {
			AND = {
				NOT = { has_government = neutrality }
				NOT = { has_government = democratic }
			}
		}
	}
	picture = GFX_report_event_generic_sign_treaty3
	
	immediate = {
		hidden_effect = {
			save_event_target_as = alliance_applicant
			FROM = {
				save_event_target_as = alliance_inviter
			}
		}
	}
	
	is_triggered_only = yes
	
	option = { #We'll Join
		name = SCA_denmark.20.a
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0.1
				OR = {
					NOR = { has_government = fascism }
					NOR = { has_government = communism }
				}
			}
			modifier = {
				factor = 100 #ohshitohshitohshit
				GER = {
					focus_progress = { focus = GER_weserubung progress > 0}
				}
			}
		}
		if = {
			limit = { DEN = { is_in_faction = no } }
			DEN = {	create_faction = DEN_NOR_alliance }
			FROM = { add_to_faction = ROOT }
			hidden_effect = {
				set_country_flag = alliance_applicant@ROOT
				FROM = { set_country_flag = alliance_inviter@ROOT }
			}
		}
		if = {
			limit = { DEN = { is_in_faction = yes } }
			FROM = { add_to_faction = ROOT }
			hidden_effect = {
				set_country_flag = alliance_applicant@ROOT
				FROM = { set_country_flag = alliance_inviter@ROOT }
				news_event = { id = news.289 hours = 12 }
			}
		}
		hidden_effect = {
			add_ai_strategy = {
				type = alliance
				id = "DEN"
				value = 200
			}
		}
		DEN = { country_event = SCA_denmark.21 }
	}
	
	option = { # Bugger Off
		name = SCA_denmark.20.b
		ai_chance = {
			factor = 25
			modifier = {
				factor = 3
				is_historical_focus_on = yes #You will not screw up the timeline!
			}
		}
		DEN = { country_event = SCA_denmark.22 }
	}
	
}
	country_event = { # Joined
		id = SCA_denmark.21
		title = SCA_denmark.21.t
		desc = SCA_denmark.21.desc
		picture = GFX_report_event_generic_sign_treaty3
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.21.a
		}
	}
	country_event = { # Refused
		id = SCA_denmark.22
		title = SCA_denmark.22.t
		desc = SCA_denmark.22.desc
		picture = GFX_report_event_generic_sign_treaty3
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.22.a
		}
	}
	
	
# DENMARK BEGINS SCANDINAVIAN REVOLUTIONS
country_event = {
	id = SCA_denmark.23
	title = SCA_denmark.23.t
	desc = SCA_denmark.23.desc
	picture = GFX_report_event_generic_riot
	
	is_triggered_only = yes
	
	option = { # Join the revolution, ends the game
		name = SCA_denmark.23.a
		trigger = { 
			NOT = { OR = {
				NOT = { has_completed_focus = FIN_unthinkable }
				NOT = { has_completed_focus = ICE_sup_com }
				NOT = { has_completed_focus = NOR_go_communist }
				NOT = { has_completed_focus = SWE_inernational_com }
			} }
			OR = {
				is_ai = no
				AND = {
					is_subject = no
					OR = {
						has_government = communism
						communism > 0.9
					}
				}
			}
		}
		ai_chance = {
			factor = 1
		}
		DEN = { annex_country = { target = ROOT transfer_troops = yes } }
		custom_effect_tooltip = GAME_OVER_TT					
	}			
	option = { # Fight the revolution
		name = SCA_denmark.23.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_government = communism
					communism > 0.9
				}
			}
		}
		DEN = {
			declare_war_on = {
				target = ROOT
				type = annex_everything				
			}
		}
		custom_effect_tooltip = SCA_denmark.23.b_tt
		hidden_effect = {
			if = {
				limit = { tag = NOR }
				set_capital = { state = 144 }
				if = {
					limit = { 						
						communism > 0.75 
						NOT = { has_completed_focus = NOR_go_communist }
					}
					start_civil_war = {
						ideology = communism
						size = 0.75
						capital = 144
						states = { 143 142 110 }
						states_filter = {
							owner = { original_tag = NOR }
						}
					}
					random_other_country = {
						limit = { original_tag = NOR has_government = communism }
						set_capital = { state = 110 }
						set_stability = 0.9
						set_war_support = 0.8
						set_politics = {
							ruling_party = communism
							elections_allowed = no			
						}
						country_event = SCA_denmark.24 #Annexes them immediately
					}
					add_popularity = {
						ideology = communism
						popularity = -1
					}
				}
				if = {
					limit = { 
						communism > 0.5 
						communism < 0.75
						NOT = { has_completed_focus = NOR_go_communist }
					}
					start_civil_war = {
						ideology = communism
						size = 0.5
						capital = 144
						states = { 142 110 }
						states_filter = {
							owner = { original_tag = NOR }
						}
					}
					random_other_country = {
						limit = { original_tag = NOR has_government = communism }
						set_capital = { state = 110 }
						set_stability = 0.9
						set_war_support = 0.8
						set_politics = {
							ruling_party = communism
							elections_allowed = no			
						}
						country_event = SCA_denmark.24 #Annexes them immediately
					}
					add_popularity = {
						ideology = communism
						popularity = -1
					}
				}
				if = {
					limit = { 
						communism > 0.25 
						communism < 0.5
					}
					start_civil_war = {
						ideology = communism
						size = 0.25
						capital = 110
						states = { 142 }
						states_filter = {
							owner = { original_tag = NOR }
						}
					}
					random_other_country = {
						limit = { original_tag = NOR has_government = communism }
						set_capital = { state = 142 }
						set_stability = 0.75
						set_war_support = 0.75
						set_politics = {
							ruling_party = communism
							elections_allowed = no			
						}
						country_event = SCA_denmark.24 #Annexes them immediately
					}
					add_popularity = {
						ideology = communism
						popularity = -1
					}
				}
			}
			if = {
				limit = { tag = SWE }
				set_capital = { state = 666 }
				if = {
					limit = { 
						communism > 0.75
						NOT = { has_completed_focus = SWE_inernational_com }
					}
					start_civil_war = {
						ideology = communism
						size = 0.75
						capital = 124
						states = { 138 139 140 141 38 }
						states_filter = {
							owner = { original_tag = SWE }
						}
					}
					random_other_country = {
						limit = { original_tag = SWE has_government = communism }
						set_capital = { state = 138 }
						set_stability = 0.75
						set_war_support = 0.75
						set_politics = {
							ruling_party = communism
							elections_allowed = no			
						}
						country_event = SCA_denmark.24 #Annexes them immediately
					}
					add_popularity = {
						ideology = communism
						popularity = -1
					}
				}
				if = {
					limit = { 
						communism > 0.66
						communism < 0.75
						NOT = { has_completed_focus = SWE_inernational_com }
			 		}
					start_civil_war = {
						ideology = communism
						size = 0.66
						capital = 124
						states = { 138 139 140 141 }
						states_filter = {
							owner = { original_tag = SWE }
						}
					}
					random_other_country = {
						limit = { original_tag = SWE has_government = communism }
						set_capital = { state = 138 }
						set_stability = 0.75
						set_war_support = 0.75
						set_politics = {
							ruling_party = communism
							elections_allowed = no			
						}
						country_event = SCA_denmark.24 #Annexes them immediately
					}
					add_popularity = {
						ideology = communism
						popularity = -1
					}
				}
				if = {					
					limit = { 
						communism > 0.5
						communism < 0.66
						NOT = { has_completed_focus = SWE_inernational_com }
					}
					start_civil_war = {
						ideology = communism
						size = 0.5
						capital = 138
						states = { 138 139 140 }
						states_filter = {
							owner = { original_tag = SWE }
						}
					}
					random_other_country = {
						limit = { original_tag = SWE has_government = communism }
						set_capital = { state = 138 }
						set_stability = 0.75
						set_war_support = 0.75
						set_politics = {
							ruling_party = communism
							elections_allowed = no			
						}
						country_event = SCA_denmark.24 #Annexes them immediately
					}
					add_popularity = {
						ideology = communism
						popularity = -1
					}
				}
				if = {
					limit = { 
						communism > 0.25 
						communism < 0.5
					}
					start_civil_war = {
						ideology = communism
						size = 0.25
						capital = 141
						states = { 138 139 }
						states_filter = {
							owner = { original_tag = SWE }
						}
					}
					random_other_country = {
						limit = { original_tag = SWE has_government = communism }
						set_capital = { state = 138 }
						set_stability = 0.5
						set_war_support = 0.5
						set_politics = {
							ruling_party = communism
							elections_allowed = no			
						}
						country_event = SCA_denmark.24 #Annexes them immediately
					}
					add_popularity = {
						ideology = communism
						popularity = -1
					}
				}
				if = {
					limit = { 
						communism > 0.1 
						communism < 0.25
					}
					start_civil_war = {
						ideology = communism
						size = 0.1
						capital = 141
						states = { 138 }
						states_filter = {
							owner = { original_tag = SWE }
						}
					}
					random_other_country = {
						limit = { original_tag = SWE has_government = communism }
						set_capital = { state = 138 }
						set_stability = 0.5
						set_war_support = 0.5
						set_politics = {
							ruling_party = communism
							elections_allowed = no			
						}
						country_event = SCA_denmark.24 #Annexes them immediately
					}
					add_popularity = {
						ideology = communism
						popularity = -1
					}
				}
			}
			if = {
				limit = { tag = FIN }
				set_capital = { state = 111 }
				if = {
					limit = { 
						communism > 0.75 
						NOT = { has_completed_focus = FIN_unthinkable }
					}
					start_civil_war = {
						ideology = communism
						size = 0.75
						capital = 111
						states = { 145 147 148 149 150 722  }
						states_filter = {
							owner = { original_tag = FIN }
						}
					}
					random_other_country = {
						limit = { original_tag = FIN has_government = communism }
						set_capital = { state = 148 }
						set_stability = 0.75
						set_war_support = 0.75
						set_politics = {
							ruling_party = communism
							elections_allowed = no			
						}
						country_event = SCA_denmark.24 #Annexes them immediately
					}
					add_popularity = {
						ideology = communism
						popularity = -1
					}
				}
				if = {
					limit = { 
						communism > 0.66 
						communism < 0.75
						NOT = { has_completed_focus = FIN_unthinkable }
					}
					start_civil_war = {
						ideology = communism
						size = 0.66
						capital = 111
						states = { 145 147 148 149 722 }
						states_filter = {
							owner = { original_tag = FIN }
						}
					}
					random_other_country = {
						limit = { original_tag = FIN has_government = communism }
						set_capital = { state = 148 }
						set_stability = 0.75
						set_war_support = 0.75
						set_politics = {
							ruling_party = communism
							elections_allowed = no			
						}
						country_event = SCA_denmark.24 #Annexes them immediately
					}
					add_popularity = {
						ideology = communism
						popularity = -1
					}
				}
				if = {
					limit = { 
						communism > 0.5 
						communism < 0.66
						NOT = { has_completed_focus = FIN_unthinkable }
					}
					start_civil_war = {
						ideology = communism
						size = 0.5
						capital = 111
						states = { 145 148 149 722 }
						states_filter = {
							owner = { original_tag = FIN }
						}
					}
					random_other_country = {
						limit = { original_tag = FIN has_government = communism }
						set_capital = { state = 148 }
						set_stability = 0.75
						set_war_support = 0.75
						set_politics = {
							ruling_party = communism
							elections_allowed = no			
						}
						country_event = SCA_denmark.24 #Annexes them immediately
					}
					add_popularity = {
						ideology = communism
						popularity = -1
					}
				}
				if = {
					limit = { 
						communism > 0.33 
						communism < 0.5
					}
					start_civil_war = {
						ideology = communism
						size = 0.33
						capital = 111
						states = { 145 148 149 }
						states_filter = {
							owner = { original_tag = FIN }
						}
					}
					random_other_country = {
						limit = { original_tag = FIN has_government = communism }
						set_capital = { state = 148 }
						set_stability = 0.66
						set_war_support = 0.66
						set_politics = {
							ruling_party = communism
							elections_allowed = no			
						}
						country_event = SCA_denmark.24 #Annexes them immediately
					}
					add_popularity = {
						ideology = communism
						popularity = -1
					}
				}
				if = {
					limit = { 
						communism > 0.25 
						communism < 0.33
					}
					start_civil_war = {
						ideology = communism
						size = 0.25
						capital = 111
						states = { 145 149 }
						states_filter = {
							owner = { original_tag = FIN }
						}
					}
					random_other_country = {
						limit = { original_tag = FIN has_government = communism }
						set_capital = { state = 148 }
						set_stability = 0.66
						set_war_support = 0.66
						set_politics = {
							ruling_party = communism
							elections_allowed = no			
						}
						country_event = SCA_denmark.24 #Annexes them immediately
					}
					add_popularity = {
						ideology = communism
						popularity = -1
					}
				}
				if = {
					limit = { 
						communism > 0.1 
						communism < 0.25
					}
					start_civil_war = {
						ideology = communism
						size = 0.1
						capital = 111
						states = { 145 }
						states_filter = {
							owner = { original_tag = FIN }
						}
					}
					random_other_country = {
						limit = { original_tag = FIN has_government = communism }
						set_capital = { state = 145 }
						set_stability = 0.5
						set_war_support = 0.5
						set_politics = {
							ruling_party = communism
							elections_allowed = no			
						}
						country_event = SCA_denmark.24 #Annexes them immediately
					}
					add_popularity = {
						ideology = communism
						popularity = -1
					}
				}
			}
		}
	}
}
	country_event = {
		id = SCA_denmark.24
		title = SCA_denmark.24.t
		desc = SCA_denmark.24.desc
		picture = GFX_report_event_generic_riot
		
		hidden = yes
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.24.a
			DEN = { annex_country = { target = ROOT transfer_troops = yes } }
		}
	}
	
	
#Death of Thorvald Stauning
country_event = {
	id = SCA_denmark.25
	title = SCA_denmark.25.t
	desc = SCA_denmark.25.desc
	picture = GFX_report_event_europe_funeral
	
	fire_only_once = yes
	
	trigger = {
		date > 1942.1.1
		original_tag = DEN
		has_country_leader = { character = DEN_thorvald_stauning ruling_only = no }
	}
	
	mean_time_to_happen = {
		days = 45
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = death_stauning
			if = {
				limit = { has_civil_war = yes }
				random_other_country = {
					limit = { original_tag = DEN }
					country_event = { id = SCA_denmark.250 hours = 24 }
				}
			}
		}
	}
	
	option = {
		name = SCA_denmark.25.a
		if = {
			limit = { 
				NOT = { has_global_flag = fall_of_denmark }
				has_country_leader = { character = DEN_thorvald_stauning ruling_only = no }
			}
			kill_ideology_leader = neutrality
			DEN_erik_scavenius = {
				promote_character = neutral_socialism
			}
		}
		else_if = {
			limit = { 
				has_global_flag = fall_of_denmark
				has_country_leader = { character = DEN_thorvald_stauning ruling_only = no }
			}
			kill_ideology_leader = democratic
			DEN_erik_scavenius = {
				promote_character = socialism
			}
		}
	}
}
	country_event = { #For Free Denmark
		id = SCA_denmark.250
		title = SCA_denmark.25.t
		desc = SCA_denmark.25.desc
		picture = GFX_report_event_europe_funeral
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.25.a
			
			custom_effect_tooltip = DEN_death_stauning
			effect_tooltip = {
				FROM = {
					DEN_erik_scavenius = {
						promote_character = socialism
					}
				}
			}				
		}
	}

#Scandinavian Guarantees for Denmark
country_event = {
	id = SCA_denmark.26
	title = SCA_denmark.26.t
	desc = SCA_denmark.26.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = { #Agree
		name = SCA_denmark.26.a
		trigger = {
			OR = {
				has_war = no
				is_in_faction = yes
			}
		}
		ai_chance = {
			factor = 1
			modifier = {
				factor = 10
				is_in_faction_with = DEN
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		give_guarantee = DEN
		diplomatic_relation = { country = DEN relation = non_aggression_pact }
		DEN = { country_event = SCA_denmark.27 }
	}
	option = { #Refuse
		name = SCA_denmark.26.b
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0.5
				is_in_faction_with = DEN
			}
		}
		DEN = { country_event = SCA_denmark.28 }
	}
	option = { # Agree in exchange for them joining in our war
		name = SCA_denmark.26.c
		trigger = {
			has_war = yes
			OR = {
				is_faction_leader = yes
				is_in_faction = no
			}
		}
		ai_chance = {
			factor = 100
		}
		DEN = { country_event = SCA_denmark.29 }
	}
}
	country_event = { # Country Agreed
		id = SCA_denmark.27
		title = SCA_denmark.27.t
		desc = SCA_denmark.27.desc
		picture = GFX_report_event_generic_read_write
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.27.a
		}
	}
	country_event = { # Country Refused
		id = SCA_denmark.28
		title = SCA_denmark.28.t
		desc = SCA_denmark.28.desc
		picture = GFX_report_event_generic_read_write
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.28.a
		}
	}
	country_event = { # If We join War
		id = SCA_denmark.29
		title = SCA_denmark.29.t
		desc = SCA_denmark.29.desc
		picture = GFX_report_event_generic_read_write
		
		is_triggered_only = yes
		
		option = { # Join War
			name = SCA_denmark.29.a
			ai_chance = {
				factor = 1
				modifier = {
					factor = 0
					is_historical_focus_on = yes
				}
			}
			if = {
				limit = { FROM = { is_faction_leader = yes } }
				DEN = { add_to_faction = FROM }
			}
			else_if = {
				limit = { FROM = { is_faction_leader = no } }
				FROM = { create_faction = SCA_DEF_alliance }
				DEN = { add_to_faction = FROM }
			}
		}
		option = { # Refuse
			name = SCA_denmark.29.b
			ai_chance = {
				factor = 11
			}
			FROM = { country_event = SCA_denmark.30 }
		}	
	}
		country_event = { # Country Refused
			id = SCA_denmark.30
			title = SCA_denmark.30.t
			desc = SCA_denmark.30.desc
			picture = GFX_report_event_generic_read_write
			
			is_triggered_only = yes
			
			option = {
				name = SCA_denmark.30.a
			}
		}
	
### Iceland Asked to Join in Communism
country_event = {
	id = SCA_denmark.31
	title = SCA_denmark.23.t
	desc = SCA_denmark.23.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = { #Be annexed
		name = SCA_denmark.23.a
		ai_chance = {
			base = 1
		}
		
		custom_effect_tooltip = GAME_OVER_TT
		effect_tooltip = {
			FROM = { 
				annex_country = { target = ROOT transfer_troops = yes }
				country_event = { id = SCA_denmark.32 hours = 2 }
			}
		}
		hidden_effect = {
			FROM = { country_event = { id = SCA_denmark.33 hours = 2 } }
		}
	}
	
	option = { #Deny
		name = SCA_denmark.23.b
		ai_chance = {
			base = 0
		}
		
		effect_tooltip = {
			FROM = {
				create_wargoal = {
					target = ROOT
					type = annex_everything
				}
				country_event = { id = SCA_denmark.33 hours = 2 }
			}
		}
		hidden_effect = {
			FROM = { country_event = { id = SCA_denmark.33 hours = 2 } }
		}
	}
}
	country_event = { #Iceland accepted
		id = SCA_denmark.32
		title = SCA_denmark.32.t
		desc = SCA_denmark.32.desc
		picture = GFX_report_event_generic_read_write
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.32.a
			
			annex_country = { target = FROM transfer_troops = yes }
		}
	}
	country_event = { #Iceland refused
		id = SCA_denmark.33
		title = SCA_denmark.33.t
		desc = SCA_denmark.33.desc
		picture = GFX_report_event_generic_read_write
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.33.a
			
			create_wargoal = {
				target = FROM
				type = annex_everything
			}
		}
	}
	
#Anarchists Unite (Denmark/Spain)
country_event = {
	id = SCA_denmark.34
	title = SCA_denmark.34.t
	desc = SCA_denmark.34.desc
	picture = GFX_report_event_degaulle_inspect_troops
	
	is_triggered_only = yes
	
	option = { #No-One Else in Faction
		name = SCA_denmark.34.a
		trigger = {
			NOT = { any_other_country = {
				is_subject = no
				is_in_faction_with = ROOT
			} }
		}
		ai_chance = {
			base = 1
		}
		
		hidden_effect = {
			add_ai_strategy = {
				type = alliance
				id = FROM
				value = 200
			}
		}
		FROM = { 
			add_to_faction = ROOT
			country_event = generic.3 
		}
	}
	option = { #Okay, we accept
		name = SCA_denmark.34.b
		trigger = {
			any_other_country = {
				is_subject = no
				is_in_faction_with = ROOT
			}
		}
		ai_chance = {
			base = 1
		}
		
		every_other_country = {
			limit = {
				is_in_faction_with = ROOT
			}
			hidden_effect = {
				add_ai_strategy = {
					type = alliance
					id = FROM
					value = 200
				}
			}
			FROM = { add_to_faction = PREV }
		}
		hidden_effect = {
			add_ai_strategy = {
				type = alliance
				id = FROM
				value = 200
			}
		}
		FROM = { 
			add_to_faction = ROOT
			country_event = SCA_denmark.39
		}
	}
	option = { #Okay, but we want to lead
		name = SCA_denmark.34.c
		ai_chance = {
			base = 0
			modifier = {
				add = 2
				num_faction_members > FROM.num_faction_members
			}
		}
		
		country_event = SCA_denmark.36
	}
	option = { #Non
		name = SCA_denmark.34.d
		ai_chance = {
			base = 0
		}
		
		country_event = SCA_denmark.35
	}
}
	country_event = { #Spain Refuses
		id = SCA_denmark.35
		title = SCA_denmark.35.t
		desc = SCA_denmark.35.desc
		picture = GFX_report_event_spr_republican_soldiers
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.35.a
		}
	}
	country_event = { #Spain Asks for Leadership
		id = SCA_denmark.36
		title = SCA_denmark.36.t
		desc = SCA_denmark.36.desc
		picture = GFX_report_event_spr_republican_soldiers
		
		is_triggered_only = yes
		
		option = { #We accept
			name = SCA_denmark.36.a
			ai_chance = {
				base = 1
			}
			
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
				}
				hidden_effect = {
					add_ai_strategy = {
						type = alliance
						id = FROM
						value = 200
					}
				}
				FROM = { add_to_faction = PREV }
			}
			hidden_effect = {
				add_ai_strategy = {
					type = alliance
					id = FROM
					value = 200
				}
			}
			FROM = { 
				add_to_faction = ROOT
				country_event = SCA_denmark.37
			}
		}
		option = { #Either we lead or no-one does
			name = SCA_denmark.36.b
			ai_chance = {
				base = 0
				modifier = {
					add = 2
					num_faction_members > FROM.num_faction_members
				}
			}
			
			
			FROM = { country_event = SCA_denmark.38 }
		}
	}
		country_event = { #Denmark Kneels
			id = SCA_denmark.37
			title = SCA_denmark.37.t
			desc = SCA_denmark.37.desc
			picture = GFX_report_event_generic_sign_treaty1
			
			is_triggered_only = yes
			
			option = {
				name = SCA_denmark.37.a
				
				effect_tooltip = {
					every_other_country = {
						limit = {
							is_in_faction_with = FROM
						}
						add_to_faction = PREV
					}
					add_to_faction = FROM
				}
			}
		}
		country_event = { #Denmark Demands Leadership
			id = SCA_denmark.38
			title = SCA_denmark.38.t
			desc = SCA_denmark.38.desc
			picture = GFX_report_event_spr_republican_soldiers
			
			is_triggered_only = yes
			
			option = { #Kneel
				name = SCA_denmark.38.a
				ai_chance = {
					base = 2
				}
				
				every_other_country = {
					limit = {
						is_in_faction_with = ROOT
					}
					hidden_effect = {
						add_ai_strategy = {
							type = alliance
							id = FROM
							value = 200
						}
					}
					FROM = { add_to_faction = PREV }
				}
				FROM = { 
					hidden_effect = {
						add_ai_strategy = {
							type = alliance
							id = ROOT
							value = 200
						}
					}
					add_to_faction = ROOT
				}
				FROM = { country_event = { id = SCA_denmark.39 hours = 6 } }
			}
			option = { #Go suck cod
				name = SCA_denmark.38.a
				ai_chance = {
					base = 1
				}
				
				FROM = { country_event = { id = SCA_denmark.40 hours = 6 } }
			}
		}
		country_event = { #Spain Kneels
			id = SCA_denmark.39
			title = SCA_denmark.39.t
			desc = SCA_denmark.39.desc
			picture = GFX_report_event_generic_sign_treaty1
			
			is_triggered_only = yes
			
			option = {
				name = SCA_denmark.39.a
			}
		}
		country_event = { #Spain Refuses
			id = SCA_denmark.40
			title = SCA_denmark.40.t
			desc = SCA_denmark.40.desc
			picture = GFX_report_event_spr_republican_soldiers
			
			is_triggered_only = yes
			
			option = {
				name = SCA_denmark.40.a
			}
		}
	#In case the SCW ends and DEN is still at war	
	country_event = {
		id = SCA_denmark.42
		title = SCA_denmark.42.t
		desc = SCA_denmark.42.desc
		picture = GFX_report_event_spr_nationalist_soldiers
		
		trigger = {
			tag = DEN
			has_completed_focus = DEN_fuel_rev
			surrender_progress < 0.1
			is_in_faction = no
			has_global_flag = scw_over
			NOT = { country_exists = SPC }
			any_other_country = {
				original_tag = SPR
				has_war_with = DEN
				is_in_faction = no
			}
		}
		
		mean_time_to_happen = {
			days = 30
		}
		
		fire_only_once = yes
		
		option = {
			name = SCA_denmark.42.a
			ai_chance = {
				base = 1
			}
			
			every_other_country = {
				limit = {
					original_tag = SPR
					has_war_with = DEN
					is_in_faction = no
				}
				country_event = SCA_denmark.42
			}
			
			every_country = {
				limit = {
					OR = {
						tag = DEN
						is_subject_of = DEN
					}
				}
				every_other_country = {
					limit = {
						original_tag = SPR
						has_war_with = DEN
						is_in_faction = no
					}
					white_peace = ROOT
					ROOT = { white_peace = PREV }
				}
			}
		}
		
		option = {
			name = SCA_denmark.42.b
			ai_chance = {
				base = 0
			}
			
			add_war_support = -0.1
		}
	}
		country_event = {
			id = SCA_denmark.43
			title = SCA_denmark.43.t
			desc = SCA_denmark.43.desc
			picture = GFX_report_event_generic_read_write
			
			is_triggered_only = yes
			
			option = {
				name = SCA_denmark.42.a
				
				effect_tooltip = {
					white_peace = FROM
					FROM = { white_peace = ROOT }
				}
			}
		}
	
### DANISH SURRENDER IN 2 HOURS

# Denmark cannot win
country_event = {
	id = SCA_denmark.100
	title = SCA_denmark.100.t
	desc = SCA_denmark.100.desc
	picture = GFX_report_event_german_troops
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	#trigger = { # Now fired from on_actions
	#	tag = DEN
	#	is_subject = no
	#	has_civil_war = no
	#	has_war_with = GER
	#	NOT = { has_government = fascism }
	#	NOT = { has_government = democratic }
	#	GER = { is_faction_leader = yes }
	#	GER = { is_subject = no }
	#}
	#mean_time_to_happen = {
	#	days = 1
	#}
	
	option = { #Surrender
		name = SCA_denmark.100.a
		ai_chance = {
			base = 10
		}
		
		GER = { country_event = SCA_denmark.101 }
	}
	
	option = { #Never Give Up
		name = SCA_denmark.100.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 10
				is_in_faction = yes
			}
			modifier = {
				factor = 5
				has_government = democratic
			}
			modifier = {
				factor = 0.5
				has_completed_focus = DEN_remain_neutrality
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}
	country_event = { #Germany asked about Danish Surrender offer
		id = SCA_denmark.101
		title = SCA_denmark.101.t
		desc = SCA_denmark.101.desc
		picture = GFX_report_event_german_troops
		
		is_triggered_only = yes	
		
		option = { #Accept surrender
			name = SCA_denmark.101.a
			ai_chance = {
				base = 100
			}
			
			effect_tooltip = {
				puppet = DEN
				add_ideas = DEN_cream_front
			}
			
			DEN = { country_event = SCA_denmark.102 }
		}
		option = { #We will take it, all of it
			name = SCA_denmark.101.b
			ai_chance = {
				base = 1
				modifier = {
					factor = 0
					is_historical_focus_on = yes
				}
			}
			
			add_political_power = -120
			add_war_support = -0.1
			DEN = { country_event = { id = SCA_denmark.103 hours = 6 } }
		}
	}
	
	country_event = {
		id = SCA_denmark.102
		title = SCA_denmark.102.t
		desc = SCA_denmark.102.desc
		picture = GFX_report_event_german_troops
		
		is_triggered_only = yes
		
		immediate = { 
			hidden_effect ={
				set_cosmetic_tag = DEN_free
				set_global_flag = fall_of_denmark
				news_event = { id = SCA_denmark.104 hours = 24  }
			}
		}
		
		option = { #Become Association of Free Danes
			name = SCA_denmark.102.a
			
			custom_effect_tooltip = SCA_denmark.102.a_tt				
			hidden_effect = {
				EXP_set_temporary_party_popularity_variables = yes
				start_civil_war = {
					ideology = democratic
					size = 1
					capital = 37
					states = { 37 99 }
					keep_political_leader = no
					keep_political_party_members = no
					keep_unit_leaders_trigger = {
						always = no
					}
				}
				random_other_country = {
					limit = {
						original_tag = DEN
						NOT = { tag = DEN }
					}
					set_war_support = 0.1					
					set_party_name = { ideology = democratic long_name = "Socialdemokratiet" name = Socialdemokratiet }
					set_party_name = { ideology = neutrality long_name = "Radikale Venstre" name = "Radikale Venstre" }
					
					every_character = { #This ensure that Henrik Kauffman and co. make it to Greenland safely
						limit = { is_country_leader = yes }
						set_nationality = ROOT
					}
					DEN_henrik_kauffmann = { #This is driving me insane
						set_nationality = ROOT
					}
					
					if = {
						limit = { ROOT = { has_character = DEN_thorvald_stauning } }
						ROOT = {
							DEN_thorvald_stauning = {
								set_nationality = PREV.PREV
							}
						}
						ROOT = {
							DEN_erik_scavenius = {
								set_nationality = PREV.PREV
							}
						}
						DEN_thorvald_stauning = { promote_character = socialism }
					}
					else = {
						ROOT = {
							DEN_erik_scavenius = {
								set_nationality = PREV.PREV
							}
						}
						DEN_erik_scavenius = { promote_character = socialism }
					}
					ROOT = {
						DEN_peter_rochegune_munch = {
							set_nationality = PREV.PREV
						}
					}
					promote_character = DEN_peter_rochegune_munch
					ROOT = {
						DEN_frits_clausen = {
							set_nationality = PREV.PREV
						}						
					}
					promote_character = DEN_frits_clausen
					if = {
						limit = { DEN = { NOT = { has_completed_focus = DEN_com_oust_sov } } }
						ROOT = {
							DEN_aksel_larsen = {
								set_nationality = PREV.PREV
							}
						}
						promote_character = DEN_aksel_larsen
					}
					else = {
						ROOT = {
							DEN_kai_moltke = {
								set_nationality = PREV.PREV
							}
						}
						promote_character = DEN_kai_moltke
					}
					ROOT = { #For those naval leaders that refuse to stay
						every_unit_leader = {
							limit = { always = yes }
							set_nationality = PREV.PREV
						}
					}
					
					GER = {
						set_autonomy = { target = PREV autonomy_state = autonomy_reichsprotectorate end_wars = no end_civil_wars = no }
						add_ideas = DEN_cream_front
					}
					set_politics = {
						ruling_party = democratic
						last_election = "1939.4.3"
						election_frequency = 48
						elections_allowed = yes			
					}
					
					set_popularities = {
						neutrality = temp_party_d_pop
						democratic = temp_party_n_pop
						fascism = temp_party_f_pop
						communism = temp_party_c_pop
					}
					
					add_popularity = { ideology = fascism popularity = 0.02 }
					hidden_effect = {
						add_ideas = DEN_hidden_taken
					}
				}
				set_party_name = { ideology = democratic long_name = "Association of Free Danes" name = AFD }
				set_party_name = { ideology = neutrality long_name = "Free Denmark" name = "Free Denmark" }
				set_party_name = { ideology = communism long_name = "Greenland Communist Party" name = GCP }
				set_party_name = { ideology = fascism long_name = "Polar Party" name = "Polar Party" }
				
				promote_character = DEN_henrik_kauffmann
				promote_character = DEN_aksel_svane
				promote_character = DEN_kai_nielson
				promote_character = DEN_augo_lynge
				
				add_field_marshal_role = {
					character = DEN_eske_brun
					traits = { offensive_doctrine adaptable winter_specialist winter_expert commando trait_mountaineer }
					skill = 3
					attack_skill = 3
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 3
				}				
				add_corps_commander_role = {
					character = DEN_ib_poulsen
					traits = { adaptable winter_specialist winter_expert commando trait_mountaineer }
					skill = 2
					attack_skill = 3
					defense_skill = 2
					planning_skill = 1
					logistics_skill = 1
				}
				
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
				}
				set_popularities = {
					neutrality = 0
					democratic = 100
					fascism = 0
					communism = 0
				}
				set_stability = 1
				set_war_support = 1
			}
		}
		option = { # Become Occupied Denmark
			name = SCA_denmark.102.b
			trigger = { is_ai = no }
			
			custom_effect_tooltip = SCA_denmark.102.b_tt
			hidden_effect = {
				EXP_set_temporary_party_popularity_variables = yes
				start_civil_war = {
					ideology = democratic
					size = 1
					capital = 37
					states = { 37 99 }
					keep_political_leader = no
					keep_political_party_members = no
					keep_unit_leaders_trigger = {
						always = no
					}
				}
				random_other_country = {
					limit = {
						original_tag = DEN
						NOT = { tag = DEN }
					}
					set_war_support = 0.1
					set_party_name = { ideology = democratic long_name = "Socialdemokratiet" name = Socialdemokratiet }
					set_party_name = { ideology = neutrality long_name = "Radikale Venstre" name = "Radikale Venstre" }
					
					every_character = { #This ensure that Henrik Kauffman and co. make it to Greenland safely
						limit = { is_country_leader = yes }
						set_nationality = ROOT
					}
					DEN_henrik_kauffmann = { #This is driving me insane
						set_nationality = ROOT
					}
					
					if = {
						limit = { PREV = { has_country_leader = { character = DEN_thorvald_stauning ruling_only = no } } }
						PREV = {
							DEN_thorvald_stauning = {
								set_nationality = PREV.PREV
							}
						}
						PREV = {
							DEN_erik_scavenius = {
								set_nationality = PREV.PREV
							}
						}
						DEN_thorvald_stauning = { promote_character = socialism }
					}
					PREV = {
						DEN_peter_rochegune_munch = {
							set_nationality = PREV.PREV
						}
					}
					promote_character = DEN_peter_rochegune_munch
					PREV = {
						DEN_frits_clausen = {
							set_nationality = PREV.PREV
						}						
					}
					promote_character = DEN_frits_clausen
					if = {
						limit = { DEN = { NOT = { has_completed_focus = DEN_com_oust_sov } } }
						PREV = {
							DEN_aksel_larsen = {
								set_nationality = PREV.PREV
							}
						}
						promote_character = DEN_aksel_larsen
					}
					else = {
						PREV = {
							DEN_kai_moltke = {
								set_nationality = PREV.PREV
							}
						}
						promote_character = DEN_kai_moltke
					}
					GER = {
						set_autonomy = { target = PREV autonomy_state = autonomy_reichsprotectorate end_wars = no end_civil_wars = no }
						add_ideas = DEN_cream_front
					}
					set_politics = {
						ruling_party = democratic
						last_election = "1939.4.3"
						election_frequency = 48
						elections_allowed = yes				
					}
					
					set_popularities = {
						neutrality = temp_party_d_pop
						democratic = temp_party_n_pop
						fascism = temp_party_f_pop
						communism = temp_party_c_pop
					}
					
					add_popularity = { ideology = fascism popularity = 0.02 }
					hidden_effect = {
						add_ideas = DEN_hidden_taken
					}
					PREV = { #For those naval leaders that refuse to stay
						every_unit_leader = {
							limit = { always = yes }
							set_nationality = PREV.PREV
						}
					}
					change_tag_from = DEN
				}
				set_party_name = { ideology = democratic long_name = "Association of Free Danes" name = AFD }
				set_party_name = { ideology = neutrality long_name = "Free Denmark" name = "Free Denmark" }
				set_party_name = { ideology = communism long_name = "Greenland Communist Party" name = GCP }
				set_party_name = { ideology = fascism long_name = "Polar Party" name = "Polar Party" }
				
				promote_character = DEN_henrik_kauffmann
				promote_character = DEN_aksel_svane
				promote_character = DEN_kai_nielson
				promote_character = DEN_augo_lynge
				
				add_field_marshal_role = {
					character = DEN_eske_brun
					traits = { offensive_doctrine adaptable winter_specialist winter_expert commando trait_mountaineer }
					skill = 3
					attack_skill = 3
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 3
				}				
				add_corps_commander_role = {
					character = DEN_ib_poulsen
					traits = { adaptable winter_specialist winter_expert commando trait_mountaineer }
					skill = 2
					attack_skill = 3
					defense_skill = 2
					planning_skill = 1
					logistics_skill = 1
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = no
				}
				set_popularities = {
					neutrality = 0
					democratic = 100
					fascism = 0
					communism = 0
				}
				set_stability = 1
				set_war_support = 1
			}
		}
	}
	
	country_event = { #Germany Refuses
		id = SCA_denmark.103
		title = SCA_denmark.103.t
		desc = SCA_denmark.103.desc
		picture = GFX_report_event_german_troops
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.103.a
			
			add_war_support = 0.25
		}
	}

news_event = { # Germany Accepts
	id = SCA_denmark.104
	title = SCA_denmark.104.t
	desc = SCA_denmark.104.desc
	picture = GFX_news_event_german_soldiers
	
	is_triggered_only = yes
	
	major = yes
	
	option = {
		name = SCA_denmark.104.a
		trigger = {
			tag = DEN
		}		
	}
	option = {
		name = SCA_denmark.104.b
		trigger = {
			original_tag = DEN
			NOT = { tag = DEN }
		}		
	}
	option = {
		name = SCA_denmark.104.c
		trigger = {
			NOT = { original_tag = DEN }
			OR = {
				tag = GER
				is_in_faction_with = GER
			}
		}		
	}
	option = {
		name = SCA_denmark.104.d
		trigger = {
			NOT = { original_tag = DEN }
			has_government = democratic
			NOT = { 
				tag = GER
				is_in_faction_with = GER 
			}
		}		
	}
	option = {
		name = SCA_denmark.104.e
		trigger = {
			NOT = { 
				original_tag = DEN 
				tag = GER
				is_in_faction_with = GER
				has_government = democratic
			}
		}		
	}
}


#Occupation of the Faroe Islands
country_event = {
	id = SCA_denmark.105
	title = SCA_denmark.105.t
	desc = SCA_denmark.105.desc
	picture = GFX_report_event_british_in_faroe
	
	fire_only_once = yes
	
	trigger = {
		has_global_flag = fall_of_denmark
		ENG = { has_war_with = GER }
		ENG = { NOT = { has_war_with = DEN } }
		ENG = { # No Sea Lion
			controls_state = 127
			controls_state = 123
			controls_state = 126
			controls_state = 338
			controls_state = 125
			controls_state = 129
			controls_state = 128
			controls_state = 122
			controls_state = 132
			controls_state = 130
			controls_state = 131
			controls_state = 121
			controls_state = 133
			controls_state = 136
			controls_state = 120
		}
		DEN = { owns_state = 337 controls_state = 337 }
		tag = ENG
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = SCA_denmark.105.a
		ai_chance = {
			factor = 10
		}
			
		ENG = {
			transfer_state = 337
		}
		DEN = { country_event = SCA_denmark.106 }
	}
	option = {
		name = SCA_denmark.105.b
		ai_chance = {
			factor = 1
		}
	}
}
	country_event = {
		id = SCA_denmark.106
		title = SCA_denmark.106.t
		desc = SCA_denmark.106.desc
		picture = GFX_report_event_british_in_faroe
		
		is_triggered_only = yes
		
		option = {
			name = SCA_denmark.106.a
		}
	}
	country_event = { # Return of Faroe Islands
		id = SCA_denmark.107
		title = SCA_denmark.107.t
		desc = SCA_denmark.107.desc
		picture = GFX_report_event_british_in_faroe
		
		fire_only_once = yes
		
		trigger = {
			has_global_flag = fall_of_denmark
			ENG = { has_war = no }
			country_exists = DEN
			DEN = { has_civil_war = no }
			ENG = { owns_state = 337 controls_state = 337 }
			tag = ENG
		}
		
		option = { #Return
			name = SCA_denmark.107.a
			ai_chance = {
				factor = 10
				modifier = {
					factor = 0.1
					OR = {
						has_government = fascism
						AND = {
							has_government = communism
							DEN = { NOT = { has_government = communism } }
						}
					}
				}
			}
			transfer_state = 337
			DEN = { country_event = SCA_denmark.108 }
		}
		option = { #Retain
			name = SCA_denmark.107.b
			ai_chance = {
				factor = 0
				modifier = {
					add = 1
					has_government = fascism
					is_historical_focus_on = no
				}
			}
			trigger = { NOT = { has_government = democratic } }
			add_political_power = -120
		}
	}
		country_event = {
			id = SCA_denmark.108
			title = SCA_denmark.108.t
			desc = SCA_denmark.108.desc
			picture = GFX_report_event_british_in_faroe
			
			is_triggered_only = yes
			
			option = {
				name = SCA_denmark.108.a
			}
		}
		country_event = {
			id = SCA_denmark.109
			title = SCA_denmark.109.t
			desc = SCA_denmark.109.desc
			picture = GFX_report_event_british_in_faroe
			
			is_triggered_only = yes
			
			option = {
				name = SCA_denmark.a
				DEN = {
					create_wargoal = {
						type = take_state_focus
						target = ENG
						generator = { 337 }
					}
				}
			}
		}

	
### OCCUPIED EVENTS

#Christian X rides alone
country_event = {
	id = SCA_denmark.110
	title = SCA_denmark.110.t
	desc = SCA_denmark.110.desc
	picture = GFX_report_event_christian_x_rides
	
	trigger = {
		original_tag = DEN
		has_global_flag  = fall_of_denmark
		NOT = { DEN = { has_country_flag = dead_king } }
		NOT = { has_government = fascism }
		has_idea = DEN_christian_x
		NOT = { has_country_flag = DEN_x_rides }
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = DEN_x_rides
		}
	}
	
	option = {
		name = SCA_denmark.110.a		
		swap_ideas = {
			remove_idea = DEN_christian_x
			add_idea = DEN_christian_x_unity
		}
		hidden_effect = {
			every_other_country = {
				limit = { 
					original_tag = DEN
					NOT = { has_idea = DEN_christian_x_unity }
				}
				country_event = SCA_denmark.110
			}
		}
	}
}

#Rebellion/Partisans
country_event = { #Not Harsh
	id = SCA_denmark.111
	title = SCA_denmark.111.t
	desc = SCA_denmark.111.desc
	picture = GFX_report_event_generic_riot
	
	trigger = {
		NOT = { has_country_flag = DEN_harsh }
		original_tag = DEN
		is_subject_of = GER
		NOT = { fascism > 0.33 }
		NOT = {  
			OR = { 
				has_idea = partisan_activities 
				has_idea = partisan_activities2 
			} 
		}
	}
	mean_time_to_happen = {
		days = 30
	}
	
	option = { #Oh darn, how unfortunate
		name = SCA_denmark.111.a
		ai_chance = {
			factor = 10
		}
		add_ideas = partisan_activities
		hidden_effect = { 
			clr_country_flag = DEN_harsh
		}
	}
	option = { #Harsh Measures Will be taken
		name = SCA_denmark.111.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 20
				fascism > 0.5
			}
		}
		add_political_power = -100
		add_ideas = partisan_activities2
		hidden_effect = {
			set_country_flag = DEN_harsh
		}
	}
}
country_event = { #Harsh
	id = SCA_denmark.1111
	title = SCA_denmark.111.t
	desc = SCA_denmark.111.desc
	picture = GFX_report_event_generic_riot
	
	trigger = {
		has_country_flag = DEN_harsh
		original_tag = DEN
		is_subject_of = GER
		NOT = { fascism > 0.33 }
		NOT = {  
			OR = { 
				has_idea = partisan_activities 
				has_idea = partisan_activities2 
			} 
		}
	}
	mean_time_to_happen = {
		days = 60
	}
	
	option = { #Oh darn, how unfortunate
		name = SCA_denmark.111.a
		ai_chance = {
			factor = 10
		}
		add_ideas = partisan_activities
		hidden_effect = { 
			clr_country_flag = DEN_harsh
		}
	}
	option = { #Harsh Measures Will be taken
		name = SCA_denmark.111.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 20
				fascism > 0.5
			}
		}
		add_political_power = -100
		add_ideas = partisan_activities2
		hidden_effect = {
			set_country_flag = DEN_harsh
		}
	}
}
	country_event = { #Removes Partisan Effects
		id = SCA_denmark.112
		title = SCA_denmark.112.t
		desc = SCA_denmark.112.desc
		picture = GFX_report_event_generic_riot
		
		hidden = yes
		
		trigger = {
			OR = { 
				has_idea = partisan_activities 
				has_idea = partisan_activities2 
			}
		}
		
		mean_time_to_happen = {
			days = 45
		}
		
		option = {
			name = SCA_denmark.112.a
			remove_ideas = partisan_activities
			remove_ideas = partisan_activities2
		}
	}
	
#The Jewish/Partisan Question/Crisis, (August Crisis, 1943)
country_event = {
	id = SCA_denmark.113
	title = SCA_denmark.113.t
	desc = SCA_denmark.113.desc
	picture = GFX_report_event_germany_politician_handshake
	
	fire_only_once = yes
	
	trigger = {
		original_tag = DEN
		is_subject_of = GER
		GER = { surrender_progress > 0.05 }
	}
	
	mean_time_to_happen = {
		days = 180
	}
	
	option = { # We respect all Danes
		name = SCA_denmark.113.a
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.1
				has_government = fascism
			}
		}
		add_autonomy_ratio = {
			value = -0.5
			localization = SCA_denmark.t
		}
		add_political_power = 100
		add_opinion_modifier = { target = GER modifier = DEN_outrageous_demands }
		GER = {
			effect_tooltip = { add_political_power = -150 }
			add_opinion_modifier = { target = DEN modifier = DEN_refused_demands }
			country_event = { days = 2 id = SCA_denmark.114 }
		}		
		hidden_effect = {
			set_country_flag = DEN_harsh
		}	
	}
	
	option = { # Cowardly Way Out
		name = SCA_denmark.113.b
		ai_chance = {
			factor = 0
			modifier = {
				add = 10
				is_historical_focus_on = no
				fascism > 0.4
			}
		}
		add_political_power = 200
		add_autonomy_ratio = {
			value = 0.1
			localization = SCA_denmark.113.t
		}
		add_popularity = { ideology = fascism popularity = 0.15 }
		GER = {
			add_political_power = 100
			add_opinion_modifier = { target = DEN modifier = DEN_acquiesed }
		}		
		hidden_effect = {
			add_ideas = DEN_cracked_down
			set_country_flag = DEN_harsh
		}
	}
}
	country_event = { #German Response
		id = SCA_denmark.114
		title = SCA_denmark.114.t
		desc = SCA_denmark.114.desc
		picture = GFX_report_event_germany_politician_handshake
		
		is_triggered_only = yes
		
		immediate = {
			add_political_power = -150
		}			
		
		option = { # How dare they!
			name = SCA_denmark.114.a
			ai_chance = {
				factor = 2
			}
			add_political_power = -100
			GER = { remove_ideas = DEN_cream_front }
			effect_tooltip = {
				FROM = {
					transfer_units_fraction = {
						target = ROOT          # the recipient
						size = 0             # [0,1] Default value for the ratio below if they are not specified
						stockpile_ratio = 0.9  # [0,1] Overrides size modifier for the stockpiled equipment and fuel
						army_ratio = 0       # [0,1] Overrides size modifier for army
						navy_ratio = 1       # [0,1] Overrides size modifier for navy
						air_ratio = 0.9        # [0,1] Overrides size modifier for air
						keep_unit_leaders_trigger = { # Trigger for unit leaders to remain with the original country
							always = yes
						}
					}
				}
			}
			custom_effect_tooltip = SCA_denmark.114.a.tt
			hidden_effect = {
				FROM = { #German Stuff
					transfer_units_fraction = {
						target = ROOT          
						size = 0             
						stockpile_ratio = 0.9 
						army_ratio = 0
						navy_ratio = 0.5 # The German Navy is in for a nasty shock...
						air_ratio = 0.9  
						keep_unit_leaders_trigger = { 
							always = yes
						}
					}
				}
				FROM = { #Free Dane Stuff
					transfer_units_fraction = {
						target = DEN
						size = 0
						stockpile_ratio = 0.1
						army_ratio = 0
						navy_ratio = 0.1 # Free Danish Flotilla
						air_ratio = 0.1
						keep_unit_leaders_trigger = { 
							always = yes
						}
					}
				}
				#GER = { annex_country = { target = FROM transfer_troops = no } } ##Moved to event 116
				if = {
					limit = {
						AND = {
							FROM = { is_ai = no }
							DEN = { is_ai = yes }
						}
					}
					DEN = { change_tag_from = FROM }
				}
				GER = { country_event = SCA_denmark.116 }
				if = {
					limit = { country_exists = DEN }
					DEN = { country_event = SCA_denmark.117 }
				}
				news_event = SCA_denmark.118 
			}
		}
		option = { # Petulant Children
			name = SCA_denmark.114.b
			ai_chance = {
				factor = 1
				modifier = {
					factor = 0
					is_historical_focus_on = yes
				}
			}
			DEN = { 
				add_autonomy_ratio = {
					value = -0.2
					localization = SCA_denmark.114.t
				}
			}
			hidden_effect = { DEN = { set_country_flag = DEN_harsh } }
		}			
	}
				
						

country_event = { # Telegram Crisis
	id = SCA_denmark.115
	title = SCA_denmark.115.t
	desc = SCA_denmark.115.desc
	picture = GFX_report_event_christian_x_rides
		
	fire_only_once = yes

	trigger = {
		original_tag = DEN
		is_subject_of = GER
		NOT = { has_idea = DEN_christian_x_fascist }
		fascism < 0.5
		OR = {
			AND = {
				date > 1936.9.26
				date < 1936.10.26
			}
			AND = {
				date > 1937.9.26
				date < 1937.10.26
			}
			AND = {
				date > 1938.9.26
				date < 1938.10.26
			}
			AND = {
				date > 1939.9.26
				date < 1939.10.26
			}
			AND = {
				date > 1940.9.26
				date < 1940.10.26
			}
			AND = {
				date > 1941.9.26
				date < 1941.10.26
			}
			AND = {
				date > 1942.9.26
				date < 1942.10.26
			}
			AND = {
				date > 1943.9.26
				date < 1943.10.26
			}
			AND = {
				date > 1944.9.26
				date < 1944.10.26
			}
			AND = {
				date > 1945.9.26
				date < 1945.10.26
			}
			AND = {
				date > 1946.9.26
				date < 1946.10.26
			}
			AND = {
				date > 1947.9.26
				date < 1947.10.26
			}
			AND = {
				date > 1948.9.26
				date < 1948.10.26
			}
			AND = {
				date > 1949.9.26
				date < 1949.10.26
			}
			AND = {
				date > 1950.9.26
				date < 1950.10.26
			}
		}
	}
	
	mean_time_to_happen = {
		days = 5
	}
	
	option = { # Hehehe... Don't Kill Me
		name = SCA_denmark.115.a
		add_autonomy_ratio = {
			value = -0.25
			localization = SCA_denmark.115.t
		}
		add_stability = 0.10
		
		hidden_effect = {
			set_country_flag = DEN_harsh
		}
	}
}

# Germany Gets the Danish Flotilla
country_event = {
	id = SCA_denmark.116
	title = SCA_denmark.116.t
	desc = SCA_denmark.116.desc
	picture = GFX_report_event_germany_politician_handshake
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			every_other_country = {
				limit = {
					original_tag = DEN
					is_subject_of = ROOT
				}
				save_event_target_as = SCA_about_to_be_dead_denmark
			}
			every_state = {
				limit = { is_core_of = event_target:SCA_about_to_be_dead_denmark }
				remove_core_of = event_target:SCA_about_to_be_dead_denmark
			}
			if = {
				limit = { country_exists = DEN }
				DEN = { 
					set_state_owner = 99 # Fixes weird issues sometimes
					set_state_owner = 37 # Fixes weird issues sometimes
					set_state_owner = 101 # Fixes weird issues sometimes
					set_state_controller = 101 # Fixes weird issues sometimes
				}
			}
			GER = { annex_country = { target = event_target:SCA_about_to_be_dead_denmark transfer_troops = no } }
		}
	}
	
	option = {
		name = SCA_denmark.116.a
		
		effect_tooltip = {
			event_target:SCA_about_to_be_dead_denmark = {
				transfer_units_fraction = {
					target = ROOT          
					size = 0             
					stockpile_ratio = 0.9 
					army_ratio = 0
					navy_ratio = 0.5 # The German Navy is in for a nasty shock...
					air_ratio = 0.9  
					keep_unit_leaders_trigger = { 
						always = yes
					}
				}
			}
		}
		
		hidden_effect = {
			create_equipment_variant = {
				name = "Beskytteren Class"
				type = DEN_ship_hull_fishery_protection_ship
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_light_battery_1
					rear_1_custom_slot = ship_anti_air_1
					fixed_ship_engine_slot = light_ship_engine_1
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Hvidbjørnen Class"
				type = DEN_ship_hull_fishery_protection_ship
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_light_battery_1
					mid_1_custom_slot = ship_anti_air_1
					rear_1_custom_slot = ship_airplane_launcher_1
					fixed_ship_engine_slot = light_ship_engine_1
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Ingolf Class"
				type = DEN_ship_hull_fishery_protection_ship
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_light_battery_2
					mid_1_custom_slot = ship_anti_air_2
					rear_1_custom_slot = ship_airplane_launcher_1
					fixed_ship_engine_slot = light_ship_engine_2
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Hejmdal Class"
				type = DEN_ship_hull_fishery_protection_ship
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_light_battery_2
					mid_1_custom_slot = ship_anti_air_1
					rear_1_custom_slot = ship_anti_air_2
					fixed_ship_engine_slot = light_ship_engine_2
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Freja Class"
				type = DEN_ship_hull_fishery_protection_ship
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_light_battery_2
					rear_1_custom_slot = ship_anti_air_2
					fixed_ship_engine_slot = light_ship_engine_2
				}
				
				obsolete = yes	
			}
			#Gunboats#
			create_equipment_variant = {
				name = "Springeren Class"
				type = SCA_ship_hull_gunboat 
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_torpedo_1
					rear_1_custom_slot = ship_anti_air_1
					fixed_ship_engine_slot = light_ship_engine_1
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Springeren II Class"
				type = SCA_ship_hull_gunboat 
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_mine_sweeper_1
					rear_1_custom_slot = ship_anti_air_1
					fixed_ship_engine_slot = light_ship_engine_1
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Hvalrossen Class"
				type = SCA_ship_hull_gunboat
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_torpedo_2
					rear_1_custom_slot = ship_light_battery_2
					fixed_ship_engine_slot = light_ship_engine_2
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Dragen Class"
				type = DEN_ship_hull_fishery_protection_ship
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_torpedo_2
					rear_1_custom_slot = ship_anti_air_1
					fixed_ship_engine_slot = light_ship_engine_1
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Glenten Class"
				type = DEN_ship_hull_fishery_protection_ship
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_torpedo_2
					rear_1_custom_slot = ship_anti_air_2
					fixed_ship_engine_slot = light_ship_engine_2
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Huitfeldt Class"
				type = DEN_ship_hull_fishery_protection_ship
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_torpedo_2
					mid_1_custom_slot = ship_anti_air_2
					rear_1_custom_slot = ship_mine_layer_1
					fixed_ship_engine_slot = light_ship_engine_2
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Lossen Class"
				type = DEN_ship_hull_fishery_protection_ship
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_mine_layer_1
					mid_1_custom_slot = ship_light_battery_1
					rear_1_custom_slot = ship_mine_layer_1
					fixed_ship_engine_slot = light_ship_engine_1
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Minekran Class"
				type = SCA_ship_hull_gunboat
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_anti_air_1
					rear_1_custom_slot = ship_mine_layer_1
					fixed_ship_engine_slot = light_ship_engine_1
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Henrik Gerner Class"
				type = SCA_ship_hull_gunboat
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_light_battery_2
					rear_1_custom_slot = ship_mine_layer_1
					fixed_ship_engine_slot = light_ship_engine_1
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Lougen Class"
				type = SCA_ship_hull_gunboat
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_anti_air_1
					rear_1_custom_slot = ship_mine_layer_1
					fixed_ship_engine_slot = light_ship_engine_2
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Lindormen Class"
				type = DEN_ship_hull_fishery_protection_ship
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_light_battery_2
					mid_1_custom_slot = ship_anti_air_2
					rear_1_custom_slot = ship_mine_layer_1
					fixed_ship_engine_slot = light_ship_engine_2
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Søløven Class"
				type = SCA_ship_hull_gunboat
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_light_battery_2
					rear_1_custom_slot = ship_mine_sweeper_1
					fixed_ship_engine_slot = light_ship_engine_2
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "MS Class"
				type = DEN_ship_hull_fishery_protection_ship
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_anti_air_1
					rear_1_custom_slot = ship_mine_sweeper_1
					fixed_ship_engine_slot = light_ship_engine_2
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Grønsund Class"
				type = SCA_ship_hull_gunboat
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					front_1_custom_slot = ship_light_battery_1
					rear_1_custom_slot = ship_anti_air_1
					fixed_ship_engine_slot = light_ship_engine_1
				}
				
				obsolete = yes
			}


			create_equipment_variant = {
				name = "Herluf Trolle Class"				
				type = ship_hull_cruiser_coastal_defense_ship
				name_group = DEN_CA_HISTORICAL
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_medium_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_1
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = cruiser_ship_engine_1
					fixed_ship_armor_slot = ship_armor_cruiser_2
					fixed_ship_secondaries_slot = ship_secondaries_1
					front_1_custom_slot = empty
					mid_1_custom_slot = ship_anti_air_1
					mid_2_custom_slot = empty
					rear_1_custom_slot = ship_torpedo_1
				}
				
				obsolete = yes
			}
			create_equipment_variant = {
				name = "Niels Iuel Class"				
				type = ship_hull_cruiser_coastal_defense_ship
				name_group = DEN_CA_HISTORICAL
				parent_version = 0
				modules = {
					fixed_ship_battery_slot = ship_medium_battery_1
					fixed_ship_anti_air_slot = ship_anti_air_2
					fixed_ship_fire_control_system_slot = ship_fire_control_system_0
					fixed_ship_radar_slot = empty
					fixed_ship_engine_slot = cruiser_ship_engine_1
					fixed_ship_armor_slot = ship_armor_cruiser_2
					fixed_ship_secondaries_slot = ship_secondaries_1
					front_1_custom_slot = ship_anti_air_2
					mid_1_custom_slot = empty
					mid_2_custom_slot = ship_secondaries_1
					rear_1_custom_slot = ship_torpedo_2
				}
				
				obsolete = yes
			}

			create_equipment_variant = {
				name = "H Class"				
				type = ship_hull_submarine_2
				name_group = DEN_DD_HISTORICAL
				parent_version = 0
				modules = {
					fixed_ship_torpedo_slot = ship_torpedo_sub_2
					fixed_ship_engine_slot = sub_ship_engine_2
					rear_1_custom_slot = ship_torpedo_sub_1
				}
				
				obsolete = yes
			}
		}
		
		set_technology = { DEN_fishery_protection_ships = 1 }
		set_technology = { coastal_defense_ships = 1 }
		
		## Obsoleted by transfer_units_fraction
		#custom_effect_tooltip = SCA_denmark.116_tt
		#hidden_effect = {
		#	if = {
		#		limit = { not = { has_dlc = "Man the Guns" } }
		#		GER = { load_oob = GER_den_stolen_legacy }
		#	}
		#	else_if = {
		#		limit = { has_dlc = "Man the Guns" }
		#		GER = { load_oob = GER_den_stolen_mtg }
		#	}
		#}
	}
}

# Denmark Gets Free Danish Forces
country_event = {
	id = SCA_denmark.117
	title = SCA_denmark.117.t
	desc = SCA_denmark.117.desc
	picture = GFX_report_event_ast_navy
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			every_other_country = {
				limit = {
					original_tag = DEN
					is_subject_of = FROM
				}
				save_event_target_as = SCA_about_to_be_dead_denmark
			}
		}
	}
	
	option = {
		name = SCA_denmark.117.a
		
		effect_tooltip = {
			event_target:SCA_about_to_be_dead_denmark = { #Free Dane Stuff
				transfer_units_fraction = {
					target = DEN
					size = 0
					stockpile_ratio = 0.1
					army_ratio = 0
					navy_ratio = 0.1 # Free Danish Flotilla
					air_ratio = 0.1
					keep_unit_leaders_trigger = { 
						always = yes
					}
				}
			}
		}
		
		create_navy_leader = {
			name = "Jørgen Hviid" # Leader of the Danish Flotilla
			portrait_path = "gfx/leaders/Europe/portrait_europe_generic_navy_7.dds"
			traits = { fleet_protector navy_media_personality blockade_runner inshore_fighter  }
			skill = 1
			attack_skill = 1
			defense_skill = 1
			maneuvering_skill = 2
			coordination_skill = 1
		}
		
		## Obsoleted by transfer_units_fraction
		#custom_effect_tooltip = SCA_denmark.117_tt
		#hidden_effect = {
		#	if = {
		#		limit = { not = { has_dlc = "Man the Guns" } }
		#		DEN = { load_oob = DEN_free_corps_legacy }
		#	}
		#	else_if = {
		#		limit = { has_dlc = "Man the Guns" }
		#		DEN = { load_oob = DEN_free_corps_mtg }
		#	}			
		#}
	}
}

# News of Denmark's Annexation
news_event = {
	id = SCA_denmark.118
	title = SCA_denmark.118.t
	desc = SCA_denmark.118.desc
	picture = GFX_news_event_germany_victory
	
	is_triggered_only = yes
	major = yes

	option = {
		name = SCA_denmark.118.a
		trigger = { is_in_faction_with = GER }
	}
	option = {
		name = SCA_denmark.118.b
		trigger = { is_in_faction_with = DEN }
	}
	option = {
		name = SCA_denmark.118.c
		trigger = {
			OR = {
				NOT = { is_in_faction_with = GER }
				NOT = { is_in_faction_with = DEN }
			}
		}
	}
}

#Liberation of Denmark
news_event = {
	id = SCA_denmark.119 #HIDDEN TRIGGER
	hidden = yes
	
	fire_only_once = yes
	major = yes
	
	trigger = {
		has_global_flag = fall_of_denmark
		DEN = { has_cosmetic_tag = DEN_free }
		NOT = { DEN = { has_country_leader = { character = DEN_frits_clausen ruling_only = no } } }
		any_country = {
			controls_state = 37
			controls_state = 99
			OR = {
				tag = DEN
				is_in_faction_with = DEN
				has_subject = DEN
			}
			has_war_with = GER
			NOT = { has_war_with = DEN }
		}
		
	}
	
	mean_time_to_happen = {
		days = 10
	}
	
	immediate = {
		news_event = { hours = 2 id = SCA_denmark.120 }
	}
	
	option = {
		name = SCA_denmark.119.a
	}
}
	news_event = {
		id = SCA_denmark.120
		title = SCA_denmark.120.t
		desc = SCA_denmark.120.desc
		picture = GFX_news_event_63
		
		is_triggered_only = yes
		major = yes
		
		option = {
			name = SCA_denmark.120.a
			trigger = { 
				NOT = { tag = DEN }
				NOT = { is_in_faction_with = GER }
			}
		}
		option = {
			name = SCA_denmark.120.a
			trigger = { 
				NOT = { tag = DEN }
				is_in_faction_with = GER
			}
		}
		option = {
			name = SCA_denmark.120.c
			trigger = { tag = DEN }
			if = {
				limit = { has_cosmetic_tag = DEN_free }
				drop_cosmetic_tag = yes
			}
			set_party_name = { ideology = democratic long_name = "Socialdemokratiet" name = "Socialdemokratiet" }
			set_party_name = { ideology = neutrality long_name = "Radikale Venstre" name = "Radikale Venstre" }
			set_party_name = { ideology = communism long_name = "Danmarks Kommunistiske Parti" name = "DKP" }
			set_party_name = { ideology = fascism long_name = "Danmarks Nationalsocialistiske Arbejderparti" name = "DNSAP" }
			
			every_character = {
				limit = {
					OR = {
						has_id=10000 #Clausen
						has_id=10001 #Larsen
						has_id=10002 #Stauning
						has_id=10006 #Scavenius						
						has_id=10007 #Moltke
						has_id=10008 #Munch
					}
				}
				set_nationality = ROOT
			}
			if = {
				limit = { has_character = DEN_thorvald_stauning }
				promote_character = DEN_thorvald_stauning
			}
			else = {
				promote_character = DEN_erik_scavenius
			}
			promote_character = DEN_peter_rochegune_munch
			promote_character = DEN_frits_clausen
			if = {
				limit = { has_completed_focus = DEN_com_oust_sov }
				promote_character = DEN_kai_moltke
			}
			else = {
				promote_character = DEN_aksel_larsen
			}
			
			if = {
				limit = {
					has_government = democratic
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
			}
			else_if = {
				limit = {
					has_government = neutrality
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = yes
				}
			}
			
			every_other_country = {
				limit = {
					original_tag = DEN
					NOT = { tag = DEN }					
				}
				every_unit_leader = {
					set_nationality = DEN
				}
			}
		}
	}
	

#Where's the string concatonation #Why is there a scripted localisation character limit
	news_event = {
		id = SCA_denmark.4
		title = SCA_denmark.4.t
		desc = {
			text = SCA_denmark.4.desc1 #"Today the governments of Denmark and Norway met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				NOR = { has_country_flag = drsrn_renewed }
				NOT = {
					ICE = { has_country_flag = drsrn_renewed }
					FIN = { has_country_flag = drsrn_renewed }
					SWE = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc2 #"Today the governments of Denmark and Iceland met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				ICE = { has_country_flag = drsrn_renewed }
				NOT = {
					NOR = { has_country_flag = drsrn_renewed }
					FIN = { has_country_flag = drsrn_renewed }
					SWE = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc3 #"Today the governments of Denmark and Finland met in order to craft a declaration outlining their rules of neutrality based upon those set in 1912 by Denmark, Norway, and Sweden. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				FIN = { has_country_flag = drsrn_renewed }
				NOT = {
					ICE = { has_country_flag = drsrn_renewed }
					NOR = { has_country_flag = drsrn_renewed }
					SWE = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc4 #"Today the governments of Denmark and Sweden met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				SWE = { has_country_flag = drsrn_renewed }
				NOT = {
					ICE = { has_country_flag = drsrn_renewed }
					FIN = { has_country_flag = drsrn_renewed }
					NOR = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc5 #"Today the governments of Norway and Iceland met in order to craft a declaration outlining their rules of neutrality based upon those set in 1912 by Denmark, Norway, and Sweden. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				ICE = { has_country_flag = drsrn_renewed }
				NOR = { has_country_flag = drsrn_renewed }
				NOT = {
					DEN = { has_country_flag = drsrn_renewed }				
					FIN = { has_country_flag = drsrn_renewed }
					SWE = { has_country_flag = drsrn_renewed }
				}			
			}
		}
		desc = {
			text = SCA_denmark.4.desc6 #"Today the governments of Iceland and Finland met in order to craft a declaration outlining their rules of neutrality based upon those set in 1912 by Denmark, Norway, and Sweden. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				ICE = { has_country_flag = drsrn_renewed }
				FIN = { has_country_flag = drsrn_renewed }
				NOT = {
					DEN = { has_country_flag = drsrn_renewed }
					NOR = { has_country_flag = drsrn_renewed }				
					SWE = { has_country_flag = drsrn_renewed }			}			
				
			}
		}
		desc = {
			text = SCA_denmark.4.desc7 #"Today the governments of Iceland and Sweden met in order to craft a declaration outlining their rules of neutrality based upon those set in 1912 by Denmark, Norway, and Sweden. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				ICE = { has_country_flag = drsrn_renewed }
				SWE = { has_country_flag = drsrn_renewed }
				NOT = {
					DEN = { has_country_flag = drsrn_renewed }
					NOR = { has_country_flag = drsrn_renewed }				
					FIN = { has_country_flag = drsrn_renewed }			}			
				
			}
		}
		desc = {
			text = SCA_denmark.4.desc8 #"Today the governments of Norway and Sweden met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
				trigger = {			
				NOR = { has_country_flag = drsrn_renewed }
				SWE = { has_country_flag = drsrn_renewed }
				NOT = {
					DEN = { has_country_flag = drsrn_renewed }
					ICE = { has_country_flag = drsrn_renewed }				
					FIN = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc9 #"Today the governments of Norway and Finland met in order to craft a declaration outlining their rules of neutrality based upon those set in 1912 by Denmark, Norway, and Sweden. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {			
				NOR = { has_country_flag = drsrn_renewed }
				FIN = { has_country_flag = drsrn_renewed }
				NOT = {
					DEN = { has_country_flag = drsrn_renewed }
					ICE = { has_country_flag = drsrn_renewed }				
					SWE = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc10 #"Today the governments of Sweden and Finland met in order to craft a declaration outlining their rules of neutrality based upon those set in 1912 by Denmark, Norway, and Sweden. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {			
				SWE = { has_country_flag = drsrn_renewed }
				FIN = { has_country_flag = drsrn_renewed }
				NOT = {
					DEN = { has_country_flag = drsrn_renewed }
					ICE = { has_country_flag = drsrn_renewed }				
					NOR = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc11 #"Today the governments of Denmark, Iceland, and Norway met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				NOR = { has_country_flag = drsrn_renewed }
				ICE = { has_country_flag = drsrn_renewed }
				NOT = {
					FIN = { has_country_flag = drsrn_renewed }
					SWE = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc12 #"Today the governments of Denmark, Norway, and Finland met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				NOR = { has_country_flag = drsrn_renewed }
				FIN = { has_country_flag = drsrn_renewed }
				NOT = {
					ICE = { has_country_flag = drsrn_renewed }
					SWE = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc13 #"Today the governments of Denmark, Sweden, and Norway met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				NOR = { has_country_flag = drsrn_renewed }
				SWE = { has_country_flag = drsrn_renewed }
				NOT = {
					ICE = { has_country_flag = drsrn_renewed }
					FIN = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc14 #"Today the governments of Denmark, Sweden, and Finland met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				SWE = { has_country_flag = drsrn_renewed }
				FIN = { has_country_flag = drsrn_renewed }
				NOT = {
					ICE = { has_country_flag = drsrn_renewed }
					NOR = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc15 #"Today the governments of Denmark, Sweden, and Iceland met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				SWE = { has_country_flag = drsrn_renewed }
				ICE = { has_country_flag = drsrn_renewed }
				NOT = {
					FIN = { has_country_flag = drsrn_renewed }
					NOR = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc16 #"Today the governments of Denmark, Finland, and Iceland met in order to craft a declaration outlining their rules of neutrality based upon those set in 1912 by Denmark, Norway, and Sweden. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				ICE = { has_country_flag = drsrn_renewed }
				FIN = { has_country_flag = drsrn_renewed }
				NOT = {
					SWE = { has_country_flag = drsrn_renewed }
					NOR = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc17 #"Today the governments of Iceland, Finland, and Sweden met in order to craft a declaration outlining their rules of neutrality based upon those set in 1912 by Denmark, Norway, and Sweden. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				ICE = { has_country_flag = drsrn_renewed }
				FIN = { has_country_flag = drsrn_renewed }
				SWE = { has_country_flag = drsrn_renewed }
				NOT = {
					DEN = { has_country_flag = drsrn_renewed }
					NOR = { has_country_flag = drsrn_renewed }			
				}						
			}
		}
		desc = {
			text = SCA_denmark.4.desc18 #"Today the governments of Iceland, Finland, and Norway met in order to craft a declaration outlining their rules of neutrality based upon those set in 1912 by Denmark, Norway, and Sweden. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				ICE = { has_country_flag = drsrn_renewed }
				FIN = { has_country_flag = drsrn_renewed }
				NOR = { has_country_flag = drsrn_renewed }
				NOT = {
					SWE = { has_country_flag = drsrn_renewed }
					DEN = { has_country_flag = drsrn_renewed }			
				}						
			}
		}
		desc = {
			text = SCA_denmark.4.desc19 #"Today the governments of Finland, Sweden, and Iceland met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				FIN = { has_country_flag = drsrn_renewed }
				SWE = { has_country_flag = drsrn_renewed }
				NOR = { has_country_flag = drsrn_renewed }
				NOT = {
					FIN = { has_country_flag = drsrn_renewed }
					NOR = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc20 #"Today the governments of Denmark, Iceland, Finland and Norway met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				NOR = { has_country_flag = drsrn_renewed }
				ICE = { has_country_flag = drsrn_renewed }
				FIN = { has_country_flag = drsrn_renewed }
				NOT = {
					SWE = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc21 #"Today the governments of Sweden, Iceland, Finland and Norway met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				SWE = { has_country_flag = drsrn_renewed }
				NOR = { has_country_flag = drsrn_renewed }
				ICE = { has_country_flag = drsrn_renewed }
				FIN = { has_country_flag = drsrn_renewed }
				NOT = {
					DEN = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc22 #"Today the governments of Denmark, Iceland, Finland and Sweden met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				SWE = { has_country_flag = drsrn_renewed }
				ICE = { has_country_flag = drsrn_renewed }
				FIN = { has_country_flag = drsrn_renewed }
				NOT = {
					NOR = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc23 #"Today the governments of Denmark, Norway, Finland and Sweden met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				NOR = { has_country_flag = drsrn_renewed }
				SWE = { has_country_flag = drsrn_renewed }
				FIN = { has_country_flag = drsrn_renewed }
				NOT = {
					ICE = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc24 #"Today the governments of Denmark, Norway, Iceland and Sweden met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				NOR = { has_country_flag = drsrn_renewed }
				SWE = { has_country_flag = drsrn_renewed }
				ICE = { has_country_flag = drsrn_renewed }
				NOT = {
					FIN = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc25 #"Today the governments of Denmark, Iceland, Finland, Norway and Sweden met in order to renew and update their rules of neutrality that were set in 1912. International critics noticed that while similar, none of the signatories' rules included any provisions for going to another's aid in case of aggression from a third party."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				NOR = { has_country_flag = drsrn_renewed }
				ICE = { has_country_flag = drsrn_renewed }
				FIN = { has_country_flag = drsrn_renewed }
				SWE = { has_country_flag = drsrn_renewed }
			}
		}
		desc = {
			text = SCA_denmark.4.desc26 #"Denmark's government was hit with a nasty surprise today when every one of the other scandinavian countries refused to meet in order to renew the rules of similar neutrality that had been signed in 1912. What this means for the Scandinavian countries is yet unknown, but most political pundits agree that such a decision can only mean that war and strife are brewing in the north."
			trigger = {
				DEN = { has_country_flag = drsrn_renewed }
				NOT = {
					NOR = { has_country_flag = drsrn_renewed }
					ICE = { has_country_flag = drsrn_renewed }
					FIN = { has_country_flag = drsrn_renewed }
					SWE = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc27 #"Norway's government was hit with a nasty surprise today when every one of the other scandinavian countries refused to meet in order to renew the rules of similar neutrality that had been signed in 1912. What this means for the Scandinavian countries is yet unknown, but most political pundits agree that such a decision can only mean that war and strife are brewing in the north."
			trigger = {
				NOR = { has_country_flag = drsrn_renewed }
				NOT = {
					DEN = { has_country_flag = drsrn_renewed }
					ICE = { has_country_flag = drsrn_renewed }
					FIN = { has_country_flag = drsrn_renewed }
					SWE = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc28 #"Iceland's government was hit with a nasty surprise today when every one of the other scandinavian countries refused to meet in order to renew the rules of similar neutrality that had been signed in 1912. What this means for the Scandinavian countries is yet unknown, but most political pundits agree that such a decision can only mean that war and strife are brewing in the north."
			trigger = {
				ICE = { has_country_flag = drsrn_renewed }
				NOT = {
					NOR = { has_country_flag = drsrn_renewed }
					DEN = { has_country_flag = drsrn_renewed }
					FIN = { has_country_flag = drsrn_renewed }
					SWE = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc29 #"Finland's government was hit with a nasty surprise today when every one of the other scandinavian countries refused to meet in order to renew the rules of similar neutrality that had been signed in 1912. What this means for the Scandinavian countries is yet unknown, but most political pundits agree that such a decision can only mean that war and strife are brewing in the north."
			trigger = {
			FIN = { has_country_flag = drsrn_renewed }
				NOT = {
					NOR = { has_country_flag = drsrn_renewed }
					DEN = { has_country_flag = drsrn_renewed }
					ICE = { has_country_flag = drsrn_renewed }
					SWE = { has_country_flag = drsrn_renewed }
				}
			}
		}
		desc = {
			text = SCA_denmark.4.desc30 #"Sweden's government was hit with a nasty surprise today when every one of the other scandinavian countries refused to meet in order to renew the rules of similar neutrality that had been signed in 1912. What this means for the Scandinavian countries is yet unknown, but most political pundits agree that such a decision can only mean that war and strife are brewing in the north."
			trigger = {
				SWE = { has_country_flag = drsrn_renewed }
				NOT = {
					NOR = { has_country_flag = drsrn_renewed }
					DEN = { has_country_flag = drsrn_renewed }
					ICE = { has_country_flag = drsrn_renewed }
					FIN = { has_country_flag = drsrn_renewed }
				}
			}
		}		
		
		picture = GFX_news_event_generic_sign_treaty1
		
		major = yes
		is_triggered_only = yes
		
		option = { #Non-Signatories, Fascist
			name = SCA_denmark.4.a
			trigger = {
				AND = {
					has_government = fascism
					NOT = {
						has_country_flag = drsrn_renewed
					}
				}
			}
		}
		option = { #Non-Signatories, Communist
			name = SCA_denmark.4.b
			trigger = {
				AND = {
					has_government = communism
					NOT = {
						has_country_flag = drsrn_renewed
					}
				}
			}
		}
		option = { #Non-Signatories, other
			name = SCA_denmark.4.c
			trigger = {
				NOT = {
					has_country_flag = drsrn_renewed
					has_government = fascism
					has_government = communism
				}
			}
		}
		
		option = { #Signatories
			name = SCA_denmark.4.d
			trigger = {
				has_country_flag = drsrn_renewed
			}			
		}
	}